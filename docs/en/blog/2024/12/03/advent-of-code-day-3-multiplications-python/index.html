<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  
  <meta name="author" content="">

  
  
  <meta name="description" content="(task | solution)
As I reached the third day of my adventure, I had already learned something new that significantly improves the process: the devcontainer.json file can handle creating and running the Docker container for me. This saves the trouble of manually building and running it—essentially saving two commands on the command line, which adds up to about three seconds. Still, it’s an improvement. However, I am not going to use it.
I had initially planned to solve today’s riddle in BASIC—the first programming language I learned 30 years ago. However, it turns out that deploying a BASIC compiler into a container isn">
  

  
  <link rel="icon" href="https://nickyreinert.de/">

  
  
  <meta name="keywords" content="">
  

  
  

  
  <meta property="og:url" content="https://nickyreinert.de/en/blog/2024/12/03/advent-of-code-day-3-multiplications-python/">
  <meta property="og:site_name" content="Nicky Reinert">
  <meta property="og:title" content="Advent of Code - Day 3 - Multiplications (Python)">
  <meta property="og:description" content="(task | solution) As I reached the third day of my adventure, I had already learned something new that significantly improves the process: the devcontainer.json file can handle creating and running the Docker container for me. This saves the trouble of manually building and running it—essentially saving two commands on the command line, which adds up to about three seconds. Still, it’s an improvement. However, I am not going to use it.
I had initially planned to solve today’s riddle in BASIC—the first programming language I learned 30 years ago. However, it turns out that deploying a BASIC compiler into a container isn">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2024-12-03T12:34:56+02:00">
    <meta property="article:modified_time" content="2024-12-03T12:34:56+02:00">


  
  <link rel="canonical" href="https://nickyreinert.de/en/blog/2024/12/03/advent-of-code-day-3-multiplications-python/">

  
  
  
  <meta itemprop="name" content="Advent of Code - Day 3 - Multiplications (Python)">
  <meta itemprop="description" content="(task | solution) As I reached the third day of my adventure, I had already learned something new that significantly improves the process: the devcontainer.json file can handle creating and running the Docker container for me. This saves the trouble of manually building and running it—essentially saving two commands on the command line, which adds up to about three seconds. Still, it’s an improvement. However, I am not going to use it.
I had initially planned to solve today’s riddle in BASIC—the first programming language I learned 30 years ago. However, it turns out that deploying a BASIC compiler into a container isn">
  <meta itemprop="datePublished" content="2024-12-03T12:34:56+02:00">
  <meta itemprop="dateModified" content="2024-12-03T12:34:56+02:00">
  <meta itemprop="wordCount" content="1016">
  <meta itemprop="keywords" content="Development,Aoc2024">

  
  <link media="screen" rel="stylesheet" href='https://nickyreinert.de/css/common.css'>
  <link media="screen" rel="stylesheet" href='https://nickyreinert.de/css/content.css'>

  
  
  <title>Advent of Code - Day 3 - Multiplications (Python) - Nicky Reinert</title>
  

  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Advent of Code - Day 3 - Multiplications (Python)">
  <meta name="twitter:description" content="(task | solution) As I reached the third day of my adventure, I had already learned something new that significantly improves the process: the devcontainer.json file can handle creating and running the Docker container for me. This saves the trouble of manually building and running it—essentially saving two commands on the command line, which adds up to about three seconds. Still, it’s an improvement. However, I am not going to use it.
I had initially planned to solve today’s riddle in BASIC—the first programming language I learned 30 years ago. However, it turns out that deploying a BASIC compiler into a container isn">


  
<link rel="stylesheet" href='https://nickyreinert.de/css/single.css'>

</head>

<body>
  <div id="wrapper">
    <header id="header">
  <span class="header-content">
    <p class="left"><a id="site-title" href="https://nickyreinert.de/">Nicky Reinert</a></p>
    <p class="center">//</p>
    <p class="right">Institute for Digital Challenges</p>
  </span>

  <br />
  
  <div class="footnote">
    <span class="nav-bar-item"><b>extern</b>
      <a target="_blank" class="link" href="https://medium.com/@nickyreinert">medium.com</a>
      <a target="_blank" class="link" href="https://www.linkedin.com/in/nickyreinert/">LinkedIn</a>
      <a target="_blank" class="link" href="https://www.instagram.com/nickyreinert/?hl=de">Instagram</a>
      <a target="_blank" class="link" href="https://www.youtube.com/channel/UC832c48LxmzLd5nIL_Ny7sA">YouTube</a>
      <a target="_blank" class="link" href="https://github.com/nickyreinert">GitHub</a>
      <a target="_blank" class="link" href="https://shop.its-not-a-brand.com/">"Merch"</a>
      <a target="_blank" class="link" href="https://ministerium-für-digitale-herausforderungen.de">ministerium</a>
      <a target="_blank" class="link" href="https://institut-fdh.de//">institut</a>
      <a target="_blank" class="link" href="https://fantastokrat.de/">fantastokrat</a>
      <a target="_blank" class="link" href="https://open.spotify.com/show/3383SHVRGTvJ9cEXU3UuE5">random knowledge</a>
    </span>

    <br />

    <span class="nav-bar-item"><b>literatur</b>
      <a target="_blank" class="link" href="https://amzn.eu/d/5LYXyUu">Dit is Berlin - B.N.H.K.</a>
      <a target="_blank" class="link" href="https://amzn.eu/d/3hWCrK1">Geometrische Gottheiten</a>
    </span>
    
    <nav><b>intern</b>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/nerdenz/">nerdenz</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/blog/">blog</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/anleitungen/">anleitungen</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/development/">development</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/hosting/">hosting</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/projekte/">projekte</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/tools/">tools</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/wordpress/">wordpress</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/autismus/">autismus</a>
      </span>
      
    </nav>
    
  </div>

  <br />

</header>

    
<main id="main" class="post">
  
  <div class="post-header">
  <div class="navigation">

    
    <a class="link prev" href="/en/blog/2024/12/02/advent-of-code-day-2-increasing-and-decreasing-rust/">&lt;&lt;&lt;</a>
    
    
    <h1 style="flex-grow: 1; text-align: center;">Advent of Code - Day 3 - Multiplications (Python)</h1>
    
    
    <a class="link next" href="/en/blog/2024/12/04/advent-of-code-day-4-finding-patters-excel/">>>></a>
    

  </div>
  </div>
  <div class="post-date">December 3, 2024</div>

  
  
  
  
  <article class="content">
    
    <p>(<a href="https://adventofcode.com/2024/day/3/">task</a> | <a href="https://github.com/nickyreinert/aoc2024/tree/main/solutions/day3%20-%20python">solution</a>)
As I reached the third day of my adventure, I had already learned something new that significantly improves the process: the <code>devcontainer.json</code> file can handle creating and running the Docker container for me. This saves the trouble of manually building and running it—essentially saving two commands on the command line, which adds up to about three seconds. Still, it’s an improvement. However, I am not going to use it.</p>
<p>I had initially planned to solve today’s riddle in <strong>BASIC</strong>—the first programming language I learned 30 years ago. However, it turns out that deploying a BASIC compiler into a container isn</p>
<p>Today, we need to parse a text to find all occurrences of <code>mul(n, m)</code>, calculate the product of <code>n</code> and <code>m</code>, and finally compute the sum of all products. Let&rsquo;s try to find a <em>neat</em> one-liner for that.</p>
<h3 id="solution-of-the-first-part">Solution of the first part</h3>
<p>Here it is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#34;r&#34;</span>) <span style="color:#66d9ef">as</span> file: print(sum([reduce(mul, ast<span style="color:#f92672">.</span>literal_eval(<span style="color:#66d9ef">match</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;mul&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>))) <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">match</span> <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#34;mul\(\d{1,3},\d{1,3}\)&#34;</span>, file<span style="color:#f92672">.</span>read())]))
</span></span></code></pre></div><p>What am I doing? Well, let’s read it from the inside out:</p>
<p>First, we get all occurrences of <code>mul(n, m)</code>, which is quite easy using regex:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#34;mul\(\d{1,3},\d{1,3}\)</span>
</span></span></code></pre></div><p>Then, we go through all matching groups using Python&rsquo;s list comprehension feature:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#66d9ef">match</span> <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">match</span> <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#34;mul\(\d{1,3},\d{1,3}\)&#34;</span>, file<span style="color:#f92672">.</span>read())]
</span></span></code></pre></div><p>But we&rsquo;re not just using the plain result, which is a string like <code>mul(4, 2)</code>. First, we remove <code>mul</code> to get the parentheses, then we evaluate the string into an actual tuple, like <code>(4, 2)</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ast<span style="color:#f92672">.</span>literal_eval(<span style="color:#66d9ef">match</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;mul&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>))
</span></span></code></pre></div><p>Now that we have a list of integers, we can apply multiplication to each item:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>reduce(mul, (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>))
</span></span></code></pre></div><p>Each of the products will be fed into the final list. The <code>sum()</code> method simply adds up all the products in the list. The surrounding <code>with ... as file:</code> simply opens the file to read the content.</p>
<h2 id="solution-of-the-second-part">Solution of the second part</h2>
<p>Well, the second part is a little trickier with three additional rules:</p>
<ul>
<li>Only sum up products of <code>mul()</code> if there&rsquo;s the preceding keyword <code>do()</code>.</li>
<li>Ignore all <code>mul()</code> instructions after the keyword <code>dont()</code>.</li>
<li>All <code>mul()</code> instructions at the beginning, where there&rsquo;s neither a <code>dont()</code> nor a <code>do()</code>, need to be considered, too.</li>
</ul>
<p>This sounds easy at first glance, so I tried to figure out a way to simply adjust my regular expression. With no success, but a ton of frustration. However, I figured out a different way that is way more fun and demonstrates the obscure power of list comprehension:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum([sum([sum([reduce(mul, ast<span style="color:#f92672">.</span>literal_eval(<span style="color:#66d9ef">match</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;mul&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>))) <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">match</span> <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#34;mul\(\d{1,3},\d{1,3}\)&#34;</span>, dos)]) <span style="color:#66d9ef">for</span> _j, dos <span style="color:#f92672">in</span> enumerate(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)[<span style="color:#ae81ff">1</span>:])]) <span style="color:#66d9ef">for</span> _i, donts <span style="color:#f92672">in</span> enumerate(file_contents<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;don&#39;t()&#34;</span>)) <span style="color:#66d9ef">if</span> len(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>])
</span></span></code></pre></div><p>I guess you have questions? Fair enough. There you go, this is the expanded version:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum_of_all <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> _i, donts <span style="color:#f92672">in</span> enumerate((<span style="color:#e6db74">&#39;do()&#39;</span> <span style="color:#f92672">+</span> file_contents)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;don&#39;t()&#34;</span>)):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> len(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> _j, dos <span style="color:#f92672">in</span> enumerate(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)[<span style="color:#ae81ff">1</span>:]):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">match</span> <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#34;mul\(\d{1,3},\d{1,3}\)&#34;</span>, dos):
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;string: </span><span style="color:#e6db74">{</span>match<span style="color:#e6db74">}</span><span style="color:#e6db74"> - list: </span><span style="color:#e6db74">{</span>ast<span style="color:#f92672">.</span>literal_eval(match<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;mul&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>))<span style="color:#e6db74">}</span><span style="color:#e6db74"> -  product: </span><span style="color:#e6db74">{</span>reduce(mul, ast<span style="color:#f92672">.</span>literal_eval(match<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;mul&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>)))<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>                sum_of_all <span style="color:#f92672">+=</span> reduce(mul, ast<span style="color:#f92672">.</span>literal_eval(<span style="color:#66d9ef">match</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;mul&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;sum: </span><span style="color:#e6db74">{</span>sum_of_all<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><p>The idea is that I simply split the whole text by the string <code>dont()</code> in the first <code>for</code> loop. This returns a list of items, where I know that every <code>mul()</code> must be ignored until I encounter a <code>do()</code> in the string.</p>
<p>This leads to the next operation: Instead of parsing the string, I split each of the strings by the keyword <code>do()</code>. If this string contains <code>do()</code>, I get a list of 2 items. If not, I can ignore the whole string in my outer loop.</p>
<p>Otherwise, I take all items except the first one, and now I can apply the logic from above: using the regular expression to get the list of integers, then multiplying and summing up.</p>
<p>There&rsquo;s a small pitfall: The third rule says that all instructions at the beginning of the string, until the first <code>do()</code> or <code>dont()</code>, need to be considered. The simplest way to handle this is by just adding <code>do()</code> to the initial input string.</p>
<p>In case you&rsquo;re wondering how to go from the seemingly simple connection of nested loops to this nasty nested list comprehension—you achieve it step by step:</p>
<p>First, we iterate through the raw file content:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[donts <span style="color:#66d9ef">for</span> _i, donts <span style="color:#f92672">in</span> enumerate((<span style="color:#e6db74">&#39;do()&#39;</span> <span style="color:#f92672">+</span> file_contents)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;don&#39;t()&#34;</span>))]
</span></span></code></pre></div><p>Then, we replace <code>dont()</code> with the next loop:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[[dos <span style="color:#66d9ef">for</span> _j, dos <span style="color:#f92672">in</span> enumerate(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)[<span style="color:#ae81ff">1</span>:])] <span style="color:#66d9ef">for</span> _i, donts <span style="color:#f92672">in</span> enumerate((<span style="color:#e6db74">&#39;do()&#39;</span> <span style="color:#f92672">+</span> file_contents)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;don&#39;t()&#34;</span>))]
</span></span></code></pre></div><p>Don&rsquo;t forget to add a condition to skip results with a length of 1:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[[dos <span style="color:#66d9ef">for</span> _j, dos <span style="color:#f92672">in</span> enumerate(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)[<span style="color:#ae81ff">1</span>:])] <span style="color:#66d9ef">for</span> _i, donts <span style="color:#f92672">in</span> enumerate((<span style="color:#e6db74">&#39;do()&#39;</span> <span style="color:#f92672">+</span> file_contents)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;don&#39;t()&#34;</span>)) <span style="color:#66d9ef">if</span> len(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>]
</span></span></code></pre></div><p>Then, we can replace <code>do()</code> with the following loop:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[[[<span style="color:#66d9ef">match</span> <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">match</span> <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#34;mul\(\d{1,3},\d{1,3}\)&#34;</span>, dos)] <span style="color:#66d9ef">for</span> _j, dos <span style="color:#f92672">in</span> enumerate(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)[<span style="color:#ae81ff">1</span>:])] <span style="color:#66d9ef">for</span> _i, donts <span style="color:#f92672">in</span> enumerate((<span style="color:#e6db74">&#39;do()&#39;</span> <span style="color:#f92672">+</span> file_contents)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;don&#39;t()&#34;</span>)) <span style="color:#66d9ef">if</span> len(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>]
</span></span></code></pre></div><p>Now we are at the point where we handle the matching groups, so we replace <code>match</code> with everything we need to get a product out of the stringified list of integers:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[[[reduce(mul, ast<span style="color:#f92672">.</span>literal_eval(<span style="color:#66d9ef">match</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;mul&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>))) <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">match</span> <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#34;mul\(\d{1,3},\d{1,3}\)&#34;</span>, dos)] <span style="color:#66d9ef">for</span> _j, dos <span style="color:#f92672">in</span> enumerate(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)[<span style="color:#ae81ff">1</span>:])] <span style="color:#66d9ef">for</span> _i, donts <span style="color:#f92672">in</span> enumerate((<span style="color:#e6db74">&#39;do()&#39;</span> <span style="color:#f92672">+</span> file_contents)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;don&#39;t()&#34;</span>)) <span style="color:#66d9ef">if</span> len(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>]
</span></span></code></pre></div><p>And eventually, we get the sum of each nested list:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum([sum([sum([reduce(mul, ast<span style="color:#f92672">.</span>literal_eval(<span style="color:#66d9ef">match</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;mul&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>))) <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">match</span> <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#34;mul\(\d{1,3},\d{1,3}\)&#34;</span>, dos)]) <span style="color:#66d9ef">for</span> _j, dos <span style="color:#f92672">in</span> enumerate(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)[<span style="color:#ae81ff">1</span>:])]) <span style="color:#66d9ef">for</span> _i, donts <span style="color:#f92672">in</span> enumerate((<span style="color:#e6db74">&#39;do()&#39;</span> <span style="color:#f92672">+</span> file_contents)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;don&#39;t()&#34;</span>)) <span style="color:#66d9ef">if</span> len(donts<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;do()&#34;</span>)) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>])
</span></span></code></pre></div><p>Looks great, doesn&rsquo;t it?</p>
<h2 id="whats-up-python">Whats up, Python?</h2>
<p><strong>Rating: 14/12 – nice and friendly, always again</strong></p>
<p>Uncontroversial—one of Python&rsquo;s best features is list comprehensions, which also work for dictionaries, sets, and tuples, by the way. List comprehensions have so many features; besides the way you can nest them, you can add conditions in two ways. Either when you add an item to the output list&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[x <span style="color:#66d9ef">if</span> x <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">-</span>x <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)]
</span></span></code></pre></div><p>&hellip;or before:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[x <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">if</span> x <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>]
</span></span></code></pre></div><p>You can loop through multiple lists (et al):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[(x, y) <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>) <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span>)]
</span></span></code></pre></div><p>You can not only nest them, but also serialize multiple loops to flatten a nested input:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>nested <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>], [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]]
</span></span><span style="display:flex;"><span>[x <span style="color:#66d9ef">for</span> sublist <span style="color:#f92672">in</span> nested <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> sublist]
</span></span></code></pre></div><p>And there are probably a couple more that I don&rsquo;t even know.</p>
<p>See you next day&hellip;</p>
    
  </article>
  <div class="paginator">

    
    <a class="link" href="https://nickyreinert.de/en/blog/2024/12/02/advent-of-code-day-2-increasing-and-decreasing-rust/">← prev</a>
    
    
    <a class="link" href="https://nickyreinert.de/en/blog/2024/12/04/advent-of-code-day-4-finding-patters-excel/">next →</a>
    
  </div>
  
</main>

    <footer id="footer">
  <div>
    <span>© 1979 Nicky Reinert</span> // <span>Powered by </span>
    <a class="link" href="https://gohugo.io/">Hugo</a> // 
    <span>kontakt: nickyreinert -at- gmail -dot- com</span> // 
    <a class="link" href="https://docs.github.com/de/site-policy/privacy-policies/github-general-privacy-statement">Datenschutzerklärung</a> // 
    <bold>
      <a class="link lang-btn" href="#" data-lang="de" >
                    <svg width="16" height="12" viewBox="0 0 5 3" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px; flex-shrink: 0;">
                    <rect width="5" height="3" fill="#FFCE00"/>
                    <rect width="5" height="2" fill="#DD0000"/>
                    <rect width="5" height="1" fill="#000000"/>
                  </svg>Deutsch</a> // 
      <a class="link lang-btn" href="#" data-lang="en" >
                          <svg width="16" height="12" viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px; flex-shrink: 0;">
                    <clipPath id="s-v2">
                      <path d="M0,0 v30 h60 v-30 z"/>
                    </clipPath>
                    <clipPath id="s-v1">
                      <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/>
                    </clipPath>
                    <g clip-path="url(#s-v2)">
                      <path d="M0,0 v30 h60 v-30 z" fill="#00247d"/>
                      <g clip-path="url(#s-v1)">
                        <path d="M0,0 l60,30 M60,0 l-60,30" stroke="#fff" stroke-width="6"/>
                        <path d="M0,0 l60,30 M60,0 l-60,30" stroke="#cf142b" stroke-width="4"/>
                        <path d="M30,0 v30 M0,15 h60" stroke="#fff" stroke-width="10"/>
                        <path d="M30,0 v30 M0,15 h60" stroke="#cf142b" stroke-width="6"/>
                      </g>
                    </g>
                  </svg>English</a> // 
      <a class="link lang-btn" href="#" data-lang="*" >All(e)</a>
    </bold>
    <br />
<footer>
  <center>
    <a class="default-link" href="https://uberblogr.de/prev/nickyreinert" title="Zurück im Ring">&lt; Zurück im Ring</a> //
    Mitglied im <a class="default-link" href="https://uberblogr.de/home/nickyreinert" title="Mitglied im UberBlogr Webring">UberBlogr Webring</a> //
    <a class="default-link" href="https://uberblogr.de/next/nickyreinert" title="Vor im Ring">Weiter im Ring &gt;</a>
  </center>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var langButtons = document.querySelectorAll('.lang-btn');
      langButtons.forEach(function(btn) {
        btn.addEventListener('click', function(event) {
          event.preventDefault();
          var lang = btn.getAttribute('data-lang');
          var posts = document.querySelectorAll('[data-lang]');
            posts.forEach(function(post) {
              var postLang = post.getAttribute('data-lang');
              if (postLang === lang || lang === '*') {
                post.classList.remove('hidden');
              } else {
                post.classList.add('hidden');
              }
            });
          });
        });
      });
  </script>
</footer>
  </div>

  
  

  
  

</body>

</html>
