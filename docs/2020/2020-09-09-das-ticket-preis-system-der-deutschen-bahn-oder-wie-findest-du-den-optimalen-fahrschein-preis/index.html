<!DOCTYPE html>
<html lang="de-DE">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  
  <meta name="author" content="">

  
  
  <meta name="description" content="Update 3.10.2020 - Flexpreis Plus, siehe Teil 1
Ich reise gerne. Nicht viel, aber gerne. Am liebsten jage ich mit einem Porsche Cayenne quer durch die Republik. Auf der linken Spur der Autobahn. Mit 250 Sachen. Der linke Blinker im Dauerbetrieb. Den Finger am Hebel für die Lichthupe, wie an einem Abzug.
Die Sache hat natürlich einen kleinen Haken: Ich habe weder einen Porsche noch eine Tankkarte mit Flatrate. Ich hab nicht mal ein Auto, das 250 km/h fährt.">
  

  
  <link rel="icon" href="https://nickyreinert.de/images/favicon.svg">

  
  
  <meta name="keywords" content=" Deutsche Bahn  Ticketpreise  Sparpreis  Flexpreis  Datenanalyse  API  Reverse Engineering  Datenvisualisierung  nickets.de  Reise  Mobilität  Statistik ">
  

  
  
  
<link rel="stylesheet" href="/css/katex.min.css">
<script defer src="/js/katex.min.js"></script>
<script defer src="/js/auto-render.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '\\[', right: '\\]', display: true },
        { left: '$', right: '$', display: false },
        { left: '\\(', right: '\\)', display: false }
      ],
      ignoredTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code', 'option'],
      throwOnError: false
    });
  });
</script>


  

  
  <meta property="og:url" content="https://nickyreinert.de/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/">
  <meta property="og:site_name" content="Nicky Reinert">
  <meta property="og:title" content="Das Ticket-Preis-System der Deutschen Bahn - oder: wie findest du den optimalen Fahrschein-Preis?">
  <meta property="og:description" content="Update 3.10.2020 - Flexpreis Plus, siehe Teil 1
Ich reise gerne. Nicht viel, aber gerne. Am liebsten jage ich mit einem Porsche Cayenne quer durch die Republik. Auf der linken Spur der Autobahn. Mit 250 Sachen. Der linke Blinker im Dauerbetrieb. Den Finger am Hebel für die Lichthupe, wie an einem Abzug.
Die Sache hat natürlich einen kleinen Haken: Ich habe weder einen Porsche noch eine Tankkarte mit Flatrate. Ich hab nicht mal ein Auto, das 250 km/h fährt.">
  <meta property="og:locale" content="de_DE">
  <meta property="og:type" content="article">
    <meta property="article:section" content="2020">
    <meta property="article:published_time" content="2020-09-09T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-10-11T11:01:31+02:00">
    <meta property="article:tag" content="Analyse">
    <meta property="article:tag" content="Deutsche-Bahn">
    <meta property="article:tag" content="Fahrscheine">
    <meta property="article:tag" content="Mobilitaet">
    <meta property="article:tag" content="Statistik">
    <meta property="article:tag" content="Tickets">


  
  <link rel="canonical" href="https://nickyreinert.de/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/">

  
  
  
  <meta itemprop="name" content="Das Ticket-Preis-System der Deutschen Bahn - oder: wie findest du den optimalen Fahrschein-Preis?">
  <meta itemprop="description" content="Update 3.10.2020 - Flexpreis Plus, siehe Teil 1
Ich reise gerne. Nicht viel, aber gerne. Am liebsten jage ich mit einem Porsche Cayenne quer durch die Republik. Auf der linken Spur der Autobahn. Mit 250 Sachen. Der linke Blinker im Dauerbetrieb. Den Finger am Hebel für die Lichthupe, wie an einem Abzug.
Die Sache hat natürlich einen kleinen Haken: Ich habe weder einen Porsche noch eine Tankkarte mit Flatrate. Ich hab nicht mal ein Auto, das 250 km/h fährt.">
  <meta itemprop="datePublished" content="2020-09-09T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-10-11T11:01:31+02:00">
  <meta itemprop="wordCount" content="5893">
  <meta itemprop="keywords" content="Deutsche Bahn,Ticketpreise,Sparpreis,Flexpreis,Datenanalyse,API,Reverse Engineering,Datenvisualisierung,nickets.de,Reise,Mobilität,Statistik">

  
  <link media="screen" rel="stylesheet" href='https://nickyreinert.de/css/common.css'>
  <link media="screen" rel="stylesheet" href='https://nickyreinert.de/css/content.css'>

  
  
  <title>Das Ticket-Preis-System der Deutschen Bahn - oder: wie findest du den optimalen Fahrschein-Preis? - Nicky Reinert</title>
  

  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Das Ticket-Preis-System der Deutschen Bahn - oder: wie findest du den optimalen Fahrschein-Preis?">
  <meta name="twitter:description" content="Update 3.10.2020 - Flexpreis Plus, siehe Teil 1
Ich reise gerne. Nicht viel, aber gerne. Am liebsten jage ich mit einem Porsche Cayenne quer durch die Republik. Auf der linken Spur der Autobahn. Mit 250 Sachen. Der linke Blinker im Dauerbetrieb. Den Finger am Hebel für die Lichthupe, wie an einem Abzug.
Die Sache hat natürlich einen kleinen Haken: Ich habe weder einen Porsche noch eine Tankkarte mit Flatrate. Ich hab nicht mal ein Auto, das 250 km/h fährt.">


  
<script type="application/ld+json">
[
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Das Ticket-Preis-System der Deutschen Bahn - oder: wie findest du den optimalen Fahrschein-Preis?",
    "description": "Update 3.10.2020 - Flexpreis Plus, siehe Teil 1\nIch reise gerne. Nicht viel, aber gerne. Am liebsten jage ich mit einem Porsche Cayenne quer durch die Republik. …",
    "datePublished": "2020-09-09T00:00:00Z",
    "dateModified": "2025-10-11T11:01:31\u002b02:00",
    "author": {
      "@type": "Person",
      "name": "",
      "url": "https:\/\/nickyreinert.de\/"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Nicky Reinert",
      "url": "https:\/\/nickyreinert.de\/",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/nickyreinert.de\/images\/logo.png"
      }
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https:\/\/nickyreinert.de\/2020\/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis\/"
    },
    
    "image": {
      "@type": "ImageObject",
      "url": "https:\/\/nickyreinert.de\/images\/posts\/placeholder.jpg",
      "width": 1200,
      "height": 630
    },
    
    "url": "https:\/\/nickyreinert.de\/2020\/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis\/",
    "wordCount":  5893 ,
    
    "timeRequired": "PT5M",
    
    
    "keywords": ["analyse", "deutsche-bahn", "fahrscheine", "mobilitaet", "statistik", "tickets"],
    
    
    "articleSection": ["anleitungen"],
    
    
    "abstract": "Eine tiefgehende, mehrteilige Analyse des komplexen Ticket-Preissystems der Deutschen Bahn. Der Artikel erklärt die verschiedenen Preis-Kategorien, reverse-engineert die undokumentierte Preis-API, analysiert die gesammelten Daten statistisch auf Muster und Einflussfaktoren und stellt mit \u0027nickets.de\u0027 eine alternative, visuelle Preissuchmaschine als Lösung vor.",
    
    
    "genre": "data_analysis_project",
    
    
    "educationalLevel": "advanced",
    
    "inLanguage": "de"
  },
  
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "Das Ticket-Preis-System der Deutschen Bahn - oder: wie findest du den optimalen Fahrschein-Preis?",
    "description": "Update 3.10.2020 - Flexpreis Plus, siehe Teil 1\nIch reise gerne. Nicht viel, aber gerne. Am liebsten jage ich mit einem Porsche Cayenne quer durch die Republik. …",
    
    "proficiencyLevel": "advanced",
    
    
    "dependencies": ["Verständnis von Datenanalyse und statistischen Grundlagen", "Erfahrung mit APIs und Web-Scraping (optional)"],
    
    
    "about": [
      
      
      {
        "@type": "Thing",
        "name": "Datenanalyse"
      }
      
      , 
      {
        "@type": "Thing",
        "name": "Deutsche Bahn"
      }
      
      , 
      {
        "@type": "Thing",
        "name": "Verkehr"
      }
      
      , 
      {
        "@type": "Thing",
        "name": "API-Reverse-Engineering"
      }
      
      , 
      {
        "@type": "Thing",
        "name": "Datenvisualisierung"
      }
      
      , 
      {
        "@type": "Thing",
        "name": "Preisstrategie"
      }
      
    ],
    
    "datePublished": "2020-09-09T00:00:00Z",
    "dateModified": "2025-10-11T11:01:31\u002b02:00",
    "author": {
      "@type": "Person",
      "name": ""
    }
  },
  
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Nicky Reinert",
    "url": "https:\/\/nickyreinert.de\/",
    "description": "Blog \u0026 Projekte von Nicky Reinert (Institut für digitale Herausforderungen): Webentwicklung \u0026 Software Development, KI, SEO \u0026 Analytics, Hosting \u0026 DevOps, WordPress \u0026 Hugo, Tools \u0026 Projekte, Datenschutz und digitale Kultur",
    "inLanguage": "de",
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https:\/\/nickyreinert.de\/search/?q={search_term_string}"
      },
      "query-input": "required name=search_term_string"
    }
  }
]
</script>

  
<link rel="stylesheet" href='https://nickyreinert.de/css/single.css'>

  

<script defer src="/js/alpine.min.js"></script>



  
  

<link rel="webmention" href="https://webmention.io/nickyreinert.de/webmention" />
<link rel="me" href="https://github.com/nickyreinert" />



</head>

<body>
  <div id="wrapper">
    <header id="header">
  <span class="header-content">
    <p class="left"><a id="site-title" href="https://nickyreinert.de/">Nicky Reinert</a></p>
    <p class="center">//</p>
    <p class="right">Institut für digitale Herausforderungen</p>
  </span>

  <br />
  
  <div class="footnote">
    <span class="nav-bar-item"><b>extern</b>
      <a target="_blank" class="link" href="https://medium.com/@nickyreinert">medium.com</a>
      <a target="_blank" class="link" href="https://www.linkedin.com/in/nickyreinert/">LinkedIn</a>
      <a target="_blank" class="link" href="https://www.instagram.com/nickyreinert/?hl=de">Instagram</a>
      <a target="_blank" class="link" href="https://www.youtube.com/channel/UC832c48LxmzLd5nIL_Ny7sA">YouTube</a>
      <a target="_blank" class="link" href="https://github.com/nickyreinert">GitHub</a>
      <a target="_blank" class="link" href="https://not-a-brand.myspreadshop.de/">"Merch"</a>
      <a target="_blank" class="link" href="https://ministerium-für-digitale-herausforderungen.de">ministerium</a>
      <a target="_blank" class="link" href="https://institut-fdh.de//">institut</a>
      <a target="_blank" class="link" href="https://fantastokrat.de/">fantastokrat</a>
      <a target="_blank" class="link" href="https://open.spotify.com/show/3383SHVRGTvJ9cEXU3UuE5">random knowledge</a>
    </span>

    <br />

    <span class="nav-bar-item"><b>literatur</b>
      <a target="_blank" class="link" href="https://amzn.eu/d/5LYXyUu">Dit is Berlin - B.N.H.K.</a>
      <a target="_blank" class="link" href="https://amzn.eu/d/3hWCrK1">Geometrische Gottheiten</a>
    </span>
    
    <nav><b>intern</b>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/blog/">blog</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/analysen/">analysen</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/nerdenz/">nerdenz</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/anleitungen/">anleitungen</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/wordpress/">wordpress</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/hosting/">hosting</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/tools/">tools</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/development/">development</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/projekte/">projekte</a>
      </span>
      
      <span class="nav-bar-item">
        <a class="link" href="/categories/autismus/">autismus</a>
      </span>
      
    </nav>
    
  </div>

  <br />

</header>



    
<main id="main" class="post">
  
  
  <div class="post-header">
    <div class="navigation" style="align-items: center;">
      <div style="flex-shrink: 0; width: 50px;">
        
        <a class="link prev" href="/2020/2020-07-01-leitfaden-fur-ein-sicheres-und-schnelles-wordpress-setup/" style="font-size: 1.2rem;">&lt;&lt;&lt;</a>
        
      </div>
      
      <h1 style="flex: 1; text-align: center; min-width: 0; padding: 0 0.5rem;" itemprop="headline">Das Ticket-Preis-System der Deutschen Bahn - oder: wie findest du den optimalen Fahrschein-Preis?</h1>
      
      <div style="flex-shrink: 0; width: 50px; text-align: right;">
        
        <a class="link next" href="/2020/2020-10-08-automatisierte-wordpress-installation/" style="font-size: 1.2rem;">>>></a>
        
      </div>
    </div>
  </div>
  
  
  <div class="post-meta" style="font-size: 0.9rem; margin-top: 0.5rem; text-align: center; color: #878787;">
    September 9, 2020 &nbsp;|&nbsp; Kategorie: 
    
    <a class="link" href='https://nickyreinert.de/categories/anleitungen' style="text-decoration: none;">anleitungen</a>
    
  </div>
    
  
  
  
  <details style="margin-top: 0.5rem; margin-bottom: 2rem; font-size: 0.9rem; color: #878787; background: none; border: none;">
    <summary>
      <b>Table of Contents</b>
    </summary>
    <div class="toc" style="margin-left: 1rem;">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#überblick">Überblick</a></li>
    <li><a href="#teil-1-die-preis-kategorien-der-deutschen-bahn">Teil 1: Die Preis-Kategorien der Deutschen Bahn</a>
      <ul>
        <li><a href="#update-3102020---flexpreis-plus">Update 3.10.2020 - Flexpreis Plus</a></li>
        <li><a href="#freie-zugwahl">Freie Zugwahl</a></li>
        <li><a href="#sitzplatzreservierung">Sitzplatzreservierung</a></li>
        <li><a href="#das-city-ticket">Das City-Ticket</a></li>
        <li><a href="#andere-einflüsse-auf-den-preis">Andere Einflüsse auf den Preis</a></li>
      </ul>
    </li>
    <li><a href="#teil-2-das-buchungssystem-der-deutschen-bahn">Teil 2: Das Buchungssystem der Deutschen Bahn</a>
      <ul>
        <li><a href="#die-ergebnisseiten">Die Ergebnisseiten</a></li>
      </ul>
    </li>
    <li><a href="#zwischenfazit-das-problem-der-vergleichbarkeit">Zwischenfazit: Das Problem der Vergleichbarkeit</a></li>
    <li><a href="#teil-3-wie-funktioniert-die-ticket-api-der-deutschen-bahn">Teil 3: Wie funktioniert die Ticket-API der Deutschen Bahn?</a>
      <ul>
        <li><a href="#die-identifikation-der-bahnhöfe">Die Identifikation der Bahnhöfe</a></li>
        <li><a href="#oberfläche-1---die-reiseauskunft">Oberfläche 1 - Die Reiseauskunft</a></li>
        <li><a href="#oberfläche-2---der-sparpreis-finder">Oberfläche 2 - Der Sparpreis-Finder</a></li>
      </ul>
    </li>
    <li><a href="#zwischenfazit">Zwischenfazit</a></li>
    <li><a href="#teil-4---analyse-der-ticket-preise-der-deutschen-bahn">Teil 4 - Analyse der Ticket-Preise der Deutschen Bahn</a>
      <ul>
        <li><a href="#der-buchungs-zeitpunkt">Der Buchungs-Zeitpunkt</a></li>
        <li><a href="#gibt-es-eine-nachfrage-steuerung">Gibt es eine Nachfrage-Steuerung?</a></li>
        <li><a href="#der-preis-des-umsteigens">Der Preis des Umsteigens</a></li>
        <li><a href="#gibt-es-regelmäßigkeiten-bei-der-preisbildung">Gibt es Regelmäßigkeiten bei der Preisbildung?</a></li>
        <li><a href="#die-optimale-reisezeit">Die optimale Reisezeit</a></li>
      </ul>
    </li>
    <li><a href="#teil-5---eine-alternative-oberfläche">Teil 5 - Eine alternative Oberfläche</a>
      <ul>
        <li><a href="#download-der-postman-collection">Download der Postman-Collection</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </details>
  
  
  
  
  <article style="border-top: 2px solid #878787;" class="content">
    
    <p><em>Update 3.10.2020 - <strong>Flexpreis Plus</strong>, siehe Teil 1</em></p>
<p>Ich reise gerne. Nicht viel, aber gerne. Am liebsten jage ich mit einem Porsche Cayenne quer durch die Republik. Auf der linken Spur der Autobahn. Mit 250 Sachen. Der linke Blinker im Dauerbetrieb. Den Finger am Hebel für die Lichthupe, wie an einem Abzug.</p>
<p>Die Sache hat natürlich einen kleinen Haken: Ich habe weder einen Porsche noch eine Tankkarte mit Flatrate. Ich hab nicht mal ein Auto, das 250 km/h fährt.</p>
<p><strong>Ich fahre aber auch sehr gerne mit der Bahn</strong>. Am liebsten in der 1. Klasse. Bequeme Sitze, ein Schokoherzchen zur Begrüßung, Sitzplatzreservierung inklusive, breite Ledersitze sowieso. Und dann sitze ich da und schaue verträumt nach links aus dem Fenster, zur Autobahn, wo ein paar Unverbesserliche im Stau stehen.</p>
<p>1. Klasse? Moment mal. Ist das nicht <strong>versnobt</strong>? Unbezahlbar? Nein. Ist es nicht. Man kann relativ günstig mit der 1. Klasse fahren, wenn man sich durch das Preis-System der Deutschen Bahn gequält hat und etwas flexibel ist. Und da hätten wir auch schon unser Problem und damit auch die <strong>erste und auch oberste Prämisse</strong> für diesen Essay: Die Suche nach dem optimalen Preis macht nur dann Sinn, wenn Geld mindestens eine Rolle spielt und wenn man flexibel in der Wahl der Abfahrtszeit ist, vielleicht sogar was den Reisetag angeht. Und wenn man trotzdem damit leben kann, an eine Verbindung gebunden zu sein, sobald das Ticket gebucht ist.</p>
<p>Nun ist das Preis-System bzw. dessen Darstellung aber 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://www.heise.de/tp/features/Das-Preissystem-der-Bahn-zwischen-Irrwitz-und-Unverschaemtheit-4268591.html?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">ein wenig unübersichtlich</a>


, so dass 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://www.adac.de/der-adac/aktuelles/guenstig-bahnfahren/?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">die Suche nach dem besagten optimalen Preis</a>


 zu einem Geduldsspiel wird, weshalb man sich am Ende wohl schlicht mit dem begnügt, was am günstigsten erscheint: <strong>2. Klasse, Super-Sparpreis.</strong> Dem muss aber nicht so sein&hellip;</p>
<h2 id="überblick">Überblick</h2>
<p>Was dich hier erwartet: Im <strong>1. Teil</strong> erkläre ich, wie das Preis-System der Deutschen Bahn aufgebaut ist. Im <strong>2. Teil</strong> zeige ich, warum die aktuelle Oberfläche kaum dabei hilft, das komplexe Preissystem zu begreifen. Im <strong>3. Teil</strong> erkläre ich dir, wenn dich der technische Hintergrund interessiert, wie du an die Preise für die Verbindungen kommst. Im <strong>4. Teil</strong> versuche ich herauszufinden, ob sich die Preisbildung nachvollziehen und vielleicht sogar eine <strong>Faust-Formel</strong> erkennen lässt und im <strong>5. Teil</strong> schließe stelle ich eine <strong>alternative Oberfläche</strong> vor. Viel Spaß.</p>
<p>Wenn du dich nur für die alternative Oberfläche interessiert und dich der analytische und technische Teil nicht interessiert, dann schau einfach direkt auf 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="http://nickets.de?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">nickets.de</a>


 vorbei bzw. <strong>überspringe Teil 1 bis 4</strong>,</p>
<p><em>Zur Verteidigung der Bahn möchte ich vorab noch festhalten, dass der Vorgang der Bepreisung von Fahrkarten sicher nicht banal ist. Eine Verbindung von Berlin nach Stuttgart ist nicht nur einfach das. Sie kann über mehrere Zwischenbahnhöfe gehen und es gibt zig Faktoren, die die Preisfindung beeinflussen können.</em></p>
<h2 id="teil-1-die-preis-kategorien-der-deutschen-bahn">Teil 1: Die Preis-Kategorien der Deutschen Bahn</h2>
<p>Das Preis-System der Deutschen Bahn ist <strong>komplex</strong>. Die Deutsche Bahn bietet <strong>zwei Klassen</strong> mit jeweils <strong>drei Kategorien</strong> an. Es gibt in der 1. und 2. Klasse jeweils den Flex-Preis, den Spar-Preis und den Super-Spar-Preis:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-74-700x559.png" alt=""><p>Abbildung 1: Preis-Kategorien für Tickets der Deutschen Bahn</p>
<p>Die insgesamt <strong>sechs Katgegorien</strong> habe ihre Vor- und Nachteile und sind <strong>offensichtliche Faktoren</strong>, die den <strong>Ticketpreis beeinflussen</strong>. Ich will die Eigenschaften der Kategorien nur ganz grob beschreiben, um die Komplexität im Ansatz begreifbar zu machen. Daneben gibt es übrigens noch den Flexpreis Business für Geschäftskunden. Diese Tickets sind einen Tag vor und sieben Tage nach gebuchtem Reisetag gültig.</p>
<h3 id="update-3102020---flexpreis-plus">Update 3.10.2020 - Flexpreis Plus</h3>
<p>Offenbar hat die Bahn eine neue Preis-Kategorie eingeführt. Mit dem <strong>Flexpreis Plus</strong> ist das Ticket nun einen Tag vor und zwei Tage nach gewähltem Reisetag gültig. Die Stornierung ist solange möglich, wie das Ticket gültig ist. Diese Kategorie gibt es offenbar nur in der 1. Klasse und erst für Fahrten ab dem 1. November. Auf der Seite der Bahn habe ich dazu noch keine Informationen gefunden. Der Übersicht ist das natürlich nicht gerade zuträglich.</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-73-700x329.png" alt=""><p>Der Flexpreis Plus, ab dem 1. November 2020?</p>
<h3 id="freie-zugwahl">Freie Zugwahl</h3>
<p>Fangen wir mit dem <strong>Flex-Preis</strong> an, der den wirklich angenehmen Vorteil der freien <strong>Zugwahl</strong> am Reisetag ermöglicht. Man kann die Fahrt sogar unterbrechen und erst am nächsten Tag fortsetzen. Der Flexpreis soll grundsätzlich gleich hoch sein, unterscheidet sich aber in der Realität, um die &ldquo;





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://www.bahn.de/p/view/angebot/flexpreis.shtml?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer"><strong>Nachfragelenkung</strong> zu optimieren</a>


&rdquo;. Beim Flex-Preis gibt es allerdings eine zusätzliche Ebene, die Einfluss auf den Preis hat: Die Zug-Art wird, wie z.B. bei der Auto-Vermietung, ebenfalls unterschiedlich bepreist. Ein <strong>ICE-Ticket</strong> gehört zu einer <strong>höheren</strong> <strong>Kategorie</strong> als ein IC-Ticket. Buchst du ein Ticket für den IC, kannst du damit am gleichen Tag alle IC-Verbindungen nutzen, nicht jedoch den ICE (dafür wäre ein Aufschlag nötig, Stichwort <strong>Produktübergang</strong>).</p>
<h3 id="sitzplatzreservierung">Sitzplatzreservierung</h3>
<p>Außerdem gibt es ein wichtiges Detail zur <strong>Sitzplatzreservierung</strong>. Diese ist bei der <strong>1. Klasse inklusive</strong>. In der <strong>2. Klasse</strong> kostet sie <strong>4 Euro</strong>. Wer sich nicht auf ein Abenteuer (Reise nach Jerusalem) einlassen will, sollte diesen Aufschlag immer einkalkulieren. Gerade bei populären Verbindungen ist die Auslastung der Züge relativ hoch.</p>
<p>Der <strong>Super-Spar-Preis</strong> der 2. Klasse ist (siehe Abbildung 1) dann &ldquo;nur&rdquo; noch knapp 25 Euro günstiger als in der 1. Klasse. Der einzige Vorteil des Spar-Preises gegenüber dem Super-Spar-Preis ist übrigens die <strong>Stornomöglichkeit</strong> und das <strong>Cityticket</strong>. Der Storno ist bis vor den Reisetag gegen eine Gebühr von <strong>10 Euro</strong> möglich. Irritierend daran: Die Gebühr ist immer gleich, egal ob das Ticket 17,90 Euro oder über 200 Euro kostet. Am Reisetag ist die Stornierung des Flex-Tickets übrigens auch kostenpflichtig, hier sogar <strong>19,90 Euro</strong>.</p>
<h3 id="das-city-ticket">Das City-Ticket</h3>
<p>Den Vorteil des <strong>City-Ticket</strong> habe ich in meinen Betrachtungen aus mehreren Gründen als vernachlässigbar eingestuft. Zunächst verbaut man sich damit am Start- und Zielort die Möglichkeit, das optimale Reisemittel selber zu wählen. Es gibt ja durchaus günstige Alternativen. Außerdem ist das City-Ticket nur bei Verbindungen über <strong>100 km</strong> und in &ldquo;nur&rdquo; <strong>130 Städten</strong> kostenlos dabei. Hinzu kommen lokalspezifische Einschränkungen: So gilt das City-Ticket z.B. in Berlin nur in den <strong>Tarifbereichen A und B</strong>, nicht jedoch C. Aus diesen Gründen hab ich das City-Ticket und damit die <strong>Spar-Preise</strong> in den folgenden Betrachtungen <strong>komplett ignoriert</strong> (ein weiterer Grund ist technischer Natur, dazu später mehr).</p>
<p>Zum Problem der <strong>Komplexität</strong> trägt der <strong>Spar-Preis</strong> übrigens auch noch bei da der Aufpreis nicht fix ist, sondern zwischen (laut meinen Stichproben) <strong>3,60 und 10 Euro schwankt.</strong> Auch das ist absurd, da das City-Ticket im Preis relativ beständig sein sollte und die Storno-Option, nunja, nur ein &ldquo;Service&rdquo; ist.</p>
<h3 id="andere-einflüsse-auf-den-preis">Andere Einflüsse auf den Preis</h3>
<p>Soviel zu den offensichtlichen Faktoren. Hinzu kommen noch weniger offensichtliche Faktoren, wie z.B. die <strong>Reisezeit</strong>. Wie sehr der Spar-Preis abhängig von der Tageszeit schwanken kann, siehst du in der folgenden Abbildung. Es handelt sich um den geringsten Super-Spar-Preis für die Verbindung Berlin-Stuttgart über den Tag verteilt.</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-47-700x433.png" alt=""><p><strong>Abbildung 2:</strong> Kleinster Super-Spar-Preis für die Verbindung Berlin - Stuttgart in Abhängigkeit von der Tageszeit (Abreise), ohne Umsteigen</p>
<p>Die günstigste Zeit zum Reisen ist für diese Verbindung also der Vormittag. In der ersten Klasse macht es sogar Sinn, erst abends zu reisen. Gegen 21 Uhr ist das <strong>Super-Spar-Preis-Ticket</strong> sogar günstiger als zu anderen Zeiten in der 2. Klasse. <strong>Achtung:</strong> Es handelt sich um die aggregierten Werte über die <strong>Tageszeit</strong>. Das besagte günstige 1. Klasse-Ticket bezieht sich auf einen anderen Tag. Es ist also nicht nur die Uhrzeit ausschlaggebend, sondern auch der Wochentag. Die Preise über den <strong>Wochentag</strong> aggregiert zeigt folgende Abbildung: Dienstag ist also 1.-Klasse-Spar-und-Fahrtag:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/Spar-Preis-ueber-den-Wochentag-Berlin-Stuttgart-700x432.png" alt=""><p><strong>Abbildung 3:</strong> Kleinster Spar-Preis für die Verbindung Berlin - Stuttgart in Abhängigkeit von der Tageszeit (Abreise), ohne Umsteigen</p>
<p>Der <strong>Preis</strong> einer Verbindung ist also von <strong>vielen Faktoren abhängig</strong>. Da wäre es doch schön, wenn man die Preise in einer schönen Übersicht vergleichen könnte. (Übrigens, just als ich diesen Artikel geschrieben habe, 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://www.deutschebahn.com/de/presse/pressestart_zentrales_uebersicht/ICE-Fahren-zum-kleinen-Preis-Super-Sparpreis-Young-ab-12-90-Euro-5577616?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">hat die Deutsche Bahn einen Sonderpreis für &ldquo;<strong>junge Leute bis 26</strong>&rdquo; angekündigt</a>


. Es handelt sich dabei um ein auf <strong>1 Mio. Tickets</strong> limitiertes Sonderangebot für den Super-Spar-Preis der 2. Klasse.) Das Problem: Derzeit gibt es im Buchungssystem der DB keinen Hinweis darauf.</p>
<p>Wollen wir doch mal schauen, wie einfach es ist, den optimalen Preis für ein Ticket der Deutschen Bahn zu finden.</p>
<h2 id="teil-2-das-buchungssystem-der-deutschen-bahn">Teil 2: Das Buchungssystem der Deutschen Bahn</h2>
<p>Um ein Ticket bei der Bahn zu buchen sind mir bisher zwei (bzw. drei) Wege bekannt: Das Portal für <strong>Tickets und Angebote</strong> (auch <strong>Reiseauskunft</strong>) und der <strong>Sparpreis-Finder</strong>. Wir möchten diese Portale <strong>Oberfläche 1</strong> und <strong>2</strong> nennen. Hinzu kommt <strong><strong>Oberfläche</strong></strong> <strong>3</strong>, das ebenfalls zum Sparpreis-Finder gehört. Oberfläche 1 und 2 erreichst du recht simpel, wenn du 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="http://bahn.de/?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">bahn.de</a>


 direkt aufrufst, über das Menü <strong>Tickets &amp; Angebote</strong>. Oberfläche 2 führt dich am Ende zu Oberfläche 3. Oberfläche 3 ist entweder über die Google-Suche oder wenn du dich durch das Hover-Menü klickst. Es ist liegt außerdem auf einer anderen Sub-Domain, auf der das Hover-Menü &ldquo;Tickets &amp; Angebote&rdquo; nicht mehr existiert. Du kommst also nur auf Umwegen wieder zurück_._</p>
<p>Hinweis: Es gibt noch eine zusätzliche Oberfläche, die mobile Anwendung. Hier ist es aber aufgrund technischer Maßnahmen nicht ohne weiteres möglich, an die HTTP-Abfragen zu kommen. Diese sind per TLS geschützt, lassen sich also nicht ohne weiteres über z.B. einen Proxy abfangen. SSL-Pinning sorgt außerdem dafür, dass man mit einfache Boardmitteln kein eigenes SSL-Zertifikat unterschummeln kann. Der Aufwand hat den Nutzen überstiegen.</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-700x443.png" alt=""><p><strong>Abbildung 4:</strong> Oberfläche 1 - Die Reiseauskunft</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-1-700x544.png" alt=""><p><strong>Abbildung 5:</strong> Oberfläche 2 - Der Sparpreis-Finder</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-2-700x753.png" alt=""><p><strong>Abbildung 6:</strong> Oberfläche 3 - Der &ldquo;eigentliche&rdquo; Sparpreis-Finder</p>
<p>Warum gibt es nun drei bzw. zwei Oberflächen? Was ist der Unterscheid? Schauen wir mal.</p>
<h3 id="die-ergebnisseiten">Die Ergebnisseiten</h3>
<p>Die Verbindung <strong>Berlin - Stuttgart</strong> gehört zu meinen &ldquo;Lieblingsverbindungen&rdquo;, da ich hier relativ oft unterwegs bin bzw. war. Als Reisedatum nehme ich den <strong>17.09.2020, einen wunderschönen Donnerstag</strong>. Da wir auf der Suche nach Schnäppchen sind, wähle ich die 2. Klasse und außerdem die einfache Fahrt. <strong>Ohne Rückreise!</strong> Warum? Wenn du beide Fahrten gleichzeitig buchst, kannst du diese nicht getrennt voneinander stornieren. Stornierst du die Hinfahrt, ist auch die Rückfahrt weg. Macht keinen Sinn, ist aber leider so. Deswegen solltest du die <strong>Rückreise immer getrennt buchen</strong>. Keine Sorge, du verschenkst dadurch <strong>keinen Preisnachlass</strong>, wie z.B. bei Flugreisen.</p>
<p><strong>Oberfläche 2 und 3</strong> führen beide zur gleichen Ergebnissseite: Eine ziemlich lange Liste mit Spar-Preisen (sic!), den Abfahrtszeiten, Dauer und Umsteigezeiten Das ganze für den kompletten Tag (bzw. den gewählten Zeitraum). Außerdem wird <strong>angeblich</strong> auch der <strong>Flex-Preis</strong> angezeigt - laut Checkbox. Findest du ihn?</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/Sparpreis-Finder-Ergebnis-Seite-150x150.png" alt=""><p><strong>Abbildung 7:</strong> Die Tagesübersicht aller Super-Spar-Preis</p>
<p>Der Flex-Preis wird erstens nicht immer ausgewiesen und zweitens nicht explizit als solcher markiert. Er wird erst angezeigt, wenn du mit der Maus darüber hoverst, die Details anklickst oder zur Buchung gehst.</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-6-700x245.png" alt=""><p><strong>Abbildung 8:</strong> Der versteckte Flex-Preis</p>
<p>Verwirrend außerdem. Der Flex-Preis ist an dieser Stelle sogar um einiges günstiger, als der Spar-Preis. Nur blöd, dass man den Flexpreis, mit all seinen Vorteilen, nicht sofort erkennt.</p>
<p>Geht es weiter zur Buchung, erfährst du außerdem, dass die Liste die tatsächlich nur die <strong>Super-Spar-Preise</strong> enthält, nicht die Spar-Preise. Preislich und leistungstechnisch macht das, siehe oben, durchaus einen Unterschied. Diese Information erhält man auch, wenn man auf das kleine i-Symbol der jeweiligen Verbindung klickt.</p>
<p>Diese Übersicht ist trotz allem, wie wir gleich sehen werden, hilfreicher als bei Oberfläche 1, weil man für eine Klasse die Preise eines ganzen Tages sieht.</p>
<p>Kommen wir zu <strong>Oberfläche 1</strong>, die auf den ersten Blick einen viel kompakteren Eindruck macht. Hier wird der Flex-Preis zwar besser ausgezeichnet und die Informationen sind optisch etwas schöner aufbereitet, es gibt sogar eine Auslastungsinformation, allerdings werden in der Regel nur drei Verbindungen angezeigt.</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/Preis-Uebersicht-150x150.png" alt=""><p><strong>Abbildung 9:</strong> Die Preise der Obefläche 1</p>
<p>Mit Klick auf &ldquo;früher&rdquo; oder &ldquo;später&rdquo; kannst du den Zeitraum zwar erweitern, wirst aber nie den kompletten Tag als Übersicht erhalten. Schade.</p>
<p>Soviel zu der Möglichkeit, die für sich optimalste Preiskategorie bzw. Verbindung herauszusuchen.</p>
<h2 id="zwischenfazit-das-problem-der-vergleichbarkeit">Zwischenfazit: Das Problem der Vergleichbarkeit</h2>
<p>Das größte Problem, an dem das Buchungssystem der Deutschen Bahn krankt, ist die <strong>Vergleichbarkeit</strong>. Der Aufschlag für den Spar-Preis schwankt, die Preise schwanken nach der Tageszeit, sie sind abhängig davon, wie knapp man ein Ticket bucht usw. usf. Es ist nachvollziehbar, dass Preise geändert werden, um die Nachfrage zu steuern. Umso hilfreicher wäre es aber, die Preise vergleichbarer darzustellen.</p>
<p>Eine Oberfläche zeigt zwar die Preise im Tagesverlauf an, dafür aber nur die Super-Spar-Preise. Eine andere Oberfläche zeigt die Preise für einen weitaus kleinen Zeitraum an, dafür aber auch den Flex-Preis. Keine Oberfläche zeigt einen direkten Vergleich der Klassen an, außer <strong>wenn die 2. Klasse ausgebucht</strong> ist:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-3-700x132.png" alt=""><p><strong>Abbildung 10:</strong> 1. Klasse-Preis bei der 2. Klasse-Übersicht</p>
<p>Um das beste Preis-Leistungs-Verhältnis zu finden, <strong>fehlt es an einer einheitlichen Darstellung</strong>. Man kann mit der Komlexität leben, wenn die Übersicht nur etwas sinnvoller gestaltet wäre. Bevor wir uns diesem Problem widmen, will ich trotzdem mal versuchen, eine Regelmäßigkeit in der Bepreisung zu entdecken.</p>
<h2 id="teil-3-wie-funktioniert-die-ticket-api-der-deutschen-bahn">Teil 3: Wie funktioniert die Ticket-API der Deutschen Bahn?</h2>
<p>Bevor ich die Daten auswerte, erkläre ich kurz, für alle technisch interessierten, wie man an die Preise kommt. Auf der Suche nach einer Beschreibung der Preis-Api bin ich auf folgendes Dokument gestoßen: 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://wiki.fhem.de/w/images/6/63/Parametrisierte_%C3%9Cbergabe_Bahnauskunft%28V_5.12-R4.30c%2C_f%C3%BCr.pdf?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">Externe Aufrufparameter und Rückgabeparameter an externe System (pdf)</a>


. Diese Information konnte ich als Grundlage nutzen, um die Anfragen an den DB-Server zu formulieren (die Dokumentation ist allerdings unvollständig und weicht in einigen Punkten ab, ist also vermutlich veraltet).</p>
<h3 id="die-identifikation-der-bahnhöfe">Die Identifikation der Bahnhöfe</h3>
<p>Die beiden wichtigsten Parameter zur Ticket-Suche sind, wie sollte es anders sein, der <strong>Start- und Zielbahnhof</strong>. Hier gibt es mehrere Möglichkeiten, diese zu bestimmen.</p>
<p>Die <strong>erste Methode</strong> ist der offizielle Weg über die (nach Registrierung) frei zugängliche 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://developer.deutschebahn.com/store/apis/info?name=StaDa-Station_Data&amp;version=v2&amp;provider=DBOpenData&amp;&amp;utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">Stations-Daten-API an.</a>


 Die Liste enthält zu jedem Bahnhof den Namen im Klartext, die Geo-Lokation und eine Kategorie (Hauptbahnhof, Wald-und-Wiesen-Bahnhof, &hellip;) Die dort aufgeführten Bahnhöfe werden in der Regel ohne Probleme auch von der Preis-Auskunft erkannt.</p>
<p>Die zweite Methode führt über einen GET-Request, der dir drei verwertbare Informationen liefert. Der <strong>öffentliche Endpunkt</strong> dazu lautet:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">https://reiseauskunft.bahn.de/bin/ajax-getstop.exe/dn
</span></span></code></pre></div><p>Die wichtigsten Parameter lauten hier:</p>
<ul>
<li>S - Der Suchbegriff, entweder als
<ul>
<li>expliziter String (z.B. <em>Berlin</em>)</li>
<li>String mit Platzhalter (z.B. <em>Berlin*</em>, alles was mit Berlin beginnt)</li>
<li>Fuzzy-Search-String (z.B. <em>Kaulsdorf?</em>, liefert als Ergebnis auch <em>Zaulsdorf</em>)</li>
</ul>
</li>
<li>REQ0JourneyStopsB - die Anzahl der Ergebnisse, optional</li>
</ul>
<p>Das Ergebnis ist ein JSON-Objekt mit sogenannten Vorschlägen (<em>&ldquo;suggestions&rdquo;</em>):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln"> 1</span><span class="cl">  {
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">            &#34;value&#34;: &#34;BERLIN&#34;,
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">            &#34;id&#34;: &#34;A=1@O=BERLIN@X=13386988@Y=52520501@U=80@L=008096003@B=1@p=1598555590@&#34;,
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">            &#34;extId&#34;: &#34;008096003&#34;,
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">            &#34;type&#34;: &#34;1&#34;,
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">            &#34;typeStr&#34;: &#34;[Bhf/Hst]&#34;,
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">            &#34;xcoord&#34;: &#34;13386988&#34;,
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">            &#34;ycoord&#34;: &#34;52520501&#34;,
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">            &#34;state&#34;: &#34;id&#34;,
</span></span><span class="line"><span class="ln">10</span><span class="cl">            &#34;prodClass&#34;: &#34;319&#34;,
</span></span><span class="line"><span class="ln">11</span><span class="cl">            &#34;weight&#34;: &#34;30849&#34;
</span></span><span class="line"><span class="ln">12</span><span class="cl">        }
</span></span></code></pre></div><p>Die Daten erklären sich fast von selber, für uns relevant sind &ldquo;<em>value&rdquo;</em>, &ldquo;<em>id</em>&rdquo; sowie &ldquo;<em>extId&rdquo;.</em> Alle drei Werten können für die Preissuche verwendet werden.</p>
<h3 id="oberfläche-1---die-reiseauskunft">Oberfläche 1 - Die Reiseauskunft</h3>
<p>Wir bleiben bei der Verbindung Berlin-Stuttgart am 17.09.2020, einem wunderschönen Donnerstag. 2. Klasse und der URL</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">https://www.bahn.de/p/view/angebot/index.shtml?dbkanal_007=L01_S01_D001_KIN0014_top-navi-tickets-angebote_LZ01 bzw. https://www.bahn.de/p/view/angebot/index.shtml 
</span></span></code></pre></div><p>Ein Klick auf Suchen feuert einen <strong>GET-Request</strong> an diese URL ab:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">https://reiseauskunft.bahn.de/bin/query.exe/dn
</span></span></code></pre></div><p>Und natürlich gibt es einen ganzen Stapel Parameter. Den kompletten Aufruf mit allen Parametern kannst du dir unten als Postman-Collection herunterladen. Im folgenden werde ich nur die wichtigsten davon besprechen, also die, die mindestens erforderlich sind, um eine Preis-Information zu erhalten:</p>
<ul>
<li><strong>start=1</strong>, liefere Ergebnisse zurück (starte die Suche), ansonsten wird die erweiterte Suchmaske angezeigt</li>
<li><strong>S=BERLIN</strong> - der Name des Startbahnhofs, hier funktioniert in einigen Fällen der String (siehe oben)</li>
<li><strong>REQ0JourneyStopsSID=A=1@O=BERLIN@X=13386988@Y=52520501@U=80@L=008096003@B=1@p=1598383868@</strong> - grundsätzlich macht es aber Sinn, hier die explizite Id des Bahnhofs zu verwenden</li>
<li><strong>Z=Stuttgart Hbf</strong> - der Zielbahnhof</li>
<li><strong>date=Do, 17.09.20</strong> - Tag der Reise</li>
<li><strong>time=08:00</strong> - Uhrzeit der Reise</li>
<li><strong>timesel=depart</strong> - Bestimmen Tag und Uhrzeit Abfahrt oder Ankunft (arrival)?</li>
<li><strong>tariffTravellerType.1=E</strong> - E oder F für Erwachsener oder Kind</li>
<li><strong>tariffClass=2</strong> - 1. oder 2. Klasse</li>
<li><strong>tariffTravellerReductionClass.1=&hellip;</strong> - hiermit lässt sich mit Ziffern von 0 bis 17 festlegen, ob Vergünstigungen einberechnet werden sollen, wie z.B. eine BahnCard. Das kann sich sicherlich auf den Preis der Tickets auswirken, hat aber keinen Einfluss auf die Vergleichbarkeit der Preise bzw. Analyse der Preisstruktur. Ich ignoriere diesen Parameter also.</li>
</ul>
<p>Eine Handvoll anderer Parameter ist wie gesagt in der Postman-Datei genauer beschrieben. Diese Anfrage liefert uns nun die bekannte Übersicht mit in der Regel drei Verbindungen zurück:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-4-700x484.png" alt=""><p><strong>Abbildung 11:</strong> Preise der 2. Klasse für Berlin -&gt; Stuttgart am 17.09.2020</p>
<p>Außerdem wird ein Cookie gesetzt, der drei sehr wichtige Daten enthält:</p>
<ul>
<li><strong>ld</strong> - ein Identifier, der vorerst unverändert bleibt, z.B: 37226</li>
<li><strong>seqnr</strong> - in Integer, der initial auf 1 gesetzt wird und dann hochzählt</li>
<li><strong>ident</strong> - ein weiterer Identifier, der sich mit jedem Request ändert</li>
</ul>
<p>Diese drei Informationen werden offenbar auch serverseitig gespeichert, um den Request zuordnen bzw. mehr Details liefern zu können. Wenn man mit Klick auf &ldquo;Später&rdquo; weitere Preise anfordert, wird ein GET-Request abgesetzt, der anhand dieser drei Parameter die Preise für drei weitere Abfahrten abfragt. Hinzu kommt noch der Parameter <strong>REQ0HafasScrollDir=1</strong> bzw. <strong>REQ0HafasScrollDir=2</strong> für spätere oder frühere Abfahrten.</p>
<p><strong>Seqnr</strong> muss außerdem mit jedem Request iteriert werden, um zusätzliche Slots abzufragen. So lassen sich zumindest programmatisch beliebig viele darauffolgende Abfahrtszeiten abfragen. In einem Test konnte ich seqnr bis 20 erhöhen und so auch den kompletten Folgetag abzufragen. Das klappt allerdings nur über Postman, im Browser ist nach <strong>seqnr=3</strong> Schluss:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-19-700x402.png" alt=""><p><strong>Abbildung 12:</strong> Beschränkte Zeitraum-Abfrage im Browser</p>
<p>Zum Vergleich die Abfrage des darauffolgenden Tages mit Postman - <strong>perfekte gute</strong> Voraussetzungen, um die Preise automatisiert abzufragen:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-20-700x268.png" alt=""><p><strong>Abbildung 13:</strong> Abfrage eines großen Zeitraums mit Postman</p>
<p>Der Nachteil ist allerdings, dass die Antwort vom Server reines <strong>HTML</strong> ist. Man muss die Preise also mit einem <strong>DOM-Parser</strong> aufwendig manuell extrahieren.</p>
<h3 id="oberfläche-2---der-sparpreis-finder">Oberfläche 2 - Der Sparpreis-Finder</h3>
<p>Diese Oberfläche nutzt einen anderen Endpunkt, der etwas bequemer zu bedienen ist. Hier kommt eine Schnittstelle zum Einsatz, die etwas bequemer mit einem JSON-Object gefüttert wird und sogar ein JSON-Object zurückliefert. Aber der Reihe nach.</p>
<p>Die erste Abfrage, aus der Maske heraus fragt diesen Endpunkt ab:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">https://ps.bahn.de/preissuche/preissuche/psc_start.post
</span></span></code></pre></div><p>Hier werden eine Menge Verbindungs-Parameter in dem GET-Request übermittelt (die wie gehabt in der Postman-Collection genauer beschrieben werden). Dieser Request liefert allerdings nur einen <strong>Schlüssel</strong> aus <strong>Timestamp</strong> und offenbar zufälligem <strong>Hex-Wert</strong> zurück: Dieser Schlüssel wird in einer weiteren Abfrage benötigt, um die tatsächliche Preisauskunft zu erhalten. Der Schlüssel nennt sich <strong>pscexpires</strong> und hat z.B. folgenden Inhalt:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">0209201557-3f1a35cab18604c875235a194738d672
</span></span></code></pre></div><p>Der Request wurde um 15:37 Uhr abgesetzt, offenbar ist der Schlüssel also 20 Minuten gültig. Um einen aktuellen Schlüssel zu erhalten, reicht ein minimaler Request, der z.B. nur den Start-Bahnhof enthält:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">https://ps.bahn.de/preissuche/preissuche/psc_start.post?S=BERLIN
</span></span></code></pre></div><p>Damit ausgestatttet kann jetzt ein weiterer Request abgesetzt werden, um die tatsächlichen Preise zu erhalten. Der Endpunkt dafür lautet:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">https://ps.bahn.de/preissuche/preissuche/psc_service.go
</span></span></code></pre></div><p><em>Anmerkung: Ist der eben erwähnte Schlüssel <strong>pscexpires</strong> abgelaufen, erhälst du folgende Fehlermeldung:</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">&#34;PSC-Captcha-Session ist abgelaufen!&#34;
</span></span></code></pre></div><p>Hier gibt es zwei relevante Parameter:</p>
<ul>
<li><strong>service=pscangebotsuche</strong> sowie</li>
<li><strong>data={}</strong> ein JSON-Objekt mit den Reise-Parametern</li>
</ul>
<p>Nun können also die Reise-Parameter für die Preissuche übermittelt werden. Das <strong>JSON-Objekt</strong> hat folgenden Aufbau (an dieser Stelle im <strong>YAML-Format,</strong> zur besseren Dokumentation, 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://onlineyamltools.com/convert-yaml-to-json?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">hiermit</a>


 kannst du daraus ein gültiges JSON-Objekt erstellen):</p>
<p><em>Anmerkung: Im Gegensatz zur ersten Schnittstelle, kann hier mit der Id der Bahnhöfe gearbeitet werden, die weitaus weniger sperrig ist.</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln"> 1</span><span class="cl">---
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"># Id des Start-Bahnhofs
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">s: 008096003
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"># Id des Ziel-Bahnhofs
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">d: 008000096
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"># Datum
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">dt: 13.09.20
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"># Uhrzeit
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">t: &#39;0:00&#39;
</span></span><span class="line"><span class="ln">10</span><span class="cl"># Zeitraum für die Abfrage in Minuten, mindestens 1, maximal 1440 / 1 Tag
</span></span><span class="line"><span class="ln">11</span><span class="cl">dur: 1440
</span></span><span class="line"><span class="ln">12</span><span class="cl"># der eindeutige Schlüssel (siehe oben)
</span></span><span class="line"><span class="ln">13</span><span class="cl">pscexpires: &#34;{{pscexpires}}&#34;
</span></span><span class="line"><span class="ln">14</span><span class="cl"># ?
</span></span><span class="line"><span class="ln">15</span><span class="cl">dir: 1
</span></span><span class="line"><span class="ln">16</span><span class="cl"># Nur schnellste Verbindungen
</span></span><span class="line"><span class="ln">17</span><span class="cl">sv: false
</span></span><span class="line"><span class="ln">18</span><span class="cl"># Nur Verbindungen ohne ICE
</span></span><span class="line"><span class="ln">19</span><span class="cl">ohneICE: false
</span></span><span class="line"><span class="ln">20</span><span class="cl"># Fahrrad-Mitnahme
</span></span><span class="line"><span class="ln">21</span><span class="cl">bic: true
</span></span><span class="line"><span class="ln">22</span><span class="cl"># ?
</span></span><span class="line"><span class="ln">23</span><span class="cl">tct: &#39;0&#39;
</span></span><span class="line"><span class="ln">24</span><span class="cl"># Klasse (1/2)
</span></span><span class="line"><span class="ln">25</span><span class="cl">c: &#39;2&#39;
</span></span><span class="line"><span class="ln">26</span><span class="cl"># Reisende
</span></span><span class="line"><span class="ln">27</span><span class="cl">travellers:
</span></span><span class="line"><span class="ln">28</span><span class="cl"># E - Erwachsener, F/K - Kind 6 bis 14 Jahre, B - Kind bis 5 Jahre
</span></span><span class="line"><span class="ln">29</span><span class="cl">- typ: E
</span></span><span class="line"><span class="ln">30</span><span class="cl"># Ermäßigungs-Klasse
</span></span><span class="line"><span class="ln">31</span><span class="cl">  bc: &#39;0&#39;
</span></span><span class="line"><span class="ln">32</span><span class="cl"># Alter?
</span></span><span class="line"><span class="ln">33</span><span class="cl">  alter: &#39;&#39;
</span></span></code></pre></div><p>Eine derartige Abfrage liefert ein ziemlich umfangreiches JSON-Objekt zurück, dass ich hier nur grob beschreibe. Unter &ldquo;<em>angebote</em>&rdquo; werden zunächst alle Preise aufgeführt. Die Preiskategorie (Flexpreis, Super Spar-Preis) ist mutmaßlich anhand des Feldes <em>&ldquo;tt&rdquo;</em> erkennbar. SP steht für Super Spar-Preis, NP für Flexpreis. Außerdem gibt es das Feld &ldquo;<em>pky</em>&rdquo;, was wohl für Preiskategorie steht:</p>
<ul>
<li>71830 - Super Sparpreis (Achtung, in der Oberfläche wird oft nur von Spar-Preis gesprochen)</li>
<li>7001 - Flexpreis</li>
</ul>
<p>Unter Verbindungen werden nun alle Fahrten aufgeführt, inklusive der Umstiege und Zeiten und sogar der Zug-Nummern, z.B. ICE 695.</p>
<p>Die Schnittstelle liefert also ein maschinell sehr einfach zu verarbeitendes Ergebnis zurück. Es gibt aber ein <strong>Problem:</strong> Es ist nicht klar, anhand welcher Kriterien entschieden wird, auch den Flexpreis mitzuteilen. Dieser ist nämlich leider nicht immer Teil der Antwort. Bisher konnte ich auch noch nicht herausfinden, ob ich das mit einem Parameter in der Anfage steuern kann.</p>
<h2 id="zwischenfazit">Zwischenfazit</h2>
<p>Wir haben also ein ziemlich komplexes Preissystem und zwei verschiedene Schnittstellen. Wollte man eine alternative Preisübersicht für einen größeren Zeitraum aufbauen, kann man nun</p>
<ul>
<li>die <strong>1. Schnittstelle</strong> nutzen, die zwar Flex-Preis und Spar-Preis auszeichnet, aber immer nur für ein sehr kleines Zeitfenster,</li>
<li>oder auf die <strong>2. Schnittstelle</strong> zurückgreifen, die zwar einen großen Zeitraum mit allen Preisen liefert, aber den Flex-Preis nicht zuverlässig zurück gibt.</li>
</ul>
<p>Bei beiden Schnittstellen fehlt dennoch die <strong>Vergleichbarkeit</strong> mit der 1. Klasse sowie die Aufzählung des (Super-)Spar-Preises, der ja, wie wir wissen, ebenfalls einer Schwankung unterliegt.</p>
<p>Nun, da ich weiß, wie ich programmatisch an die Preise der Deutschen Bahn komme, habe ich ein Script geschrieben, das die Preise für beliebige Verbindungen regelmäßig abrufen kann. Dazu habe ich in mehreren Durchläufen Verbindungen und Preise bis zu <strong>90 Tage</strong> im Voraus abgerufen (90 Tage ist das Limit für das Buchen im Voraus). Die <strong>ersten Durchläufe</strong> (Ende 2019 und Mitte 2020) waren mehr ein Testen und Herantasten, im <strong>finalen Durchlauf</strong> (die &ldquo;relevante Stichprobe&rdquo;) Anfang September 2020 habe ich die folgenden Verbindungen abgefragt:</p>
<ul>
<li>Berlin - Hannover (





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://de.statista.com/statistik/daten/studie/1092635/umfrage/puenktlichkeit-der-zuege-der-deutschen-bahn-auf-den-meistbefahrenen-verbindungen/?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">die Strecke mit den meisten Verspätungen</a>


)</li>
<li>Berlin - Stuttgart (eine selbst gewählte Verbindung, die ich früher oft genutzt habe)</li>
<li>Stuttgart - Berlin (und zurück)</li>
<li>Gotha - Eisenach (eine selbst gewählte möglichst kurze Verbindung)</li>
<li>Ingolstadt - Nürnberg (





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://inside.bahn.de/familie-9-bahnstrecken-mit-wow-effekt/?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">eine Hochgeschwindigkeitsstrecke</a>


)</li>
<li>München - Berlin (eine weitere Hochgeschwindigkeitsstrecke)</li>
<li>Köln - Dresden (eine selbst gewählte Ost-West-Verbindung)</li>
<li>Offenburg - Greifswald (





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://inside.bahn.de/laengste-zugstrecken-deutschlands/?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">mit 1.300 km die längste Strecke</a>


)</li>
</ul>
<p>Erfasst werden die <strong>Abfahrtszeit</strong>, die <strong>Dauer der Reise,</strong> die <strong>Anzahl der Umstiege,</strong> die <strong>erwartete Auslastung,</strong> die <strong>beteiligten Zugarten</strong> und natürlich der <strong>Flex-Preis</strong> sowie der <strong>Super Spar-Preis.</strong> Zur Qualitätssicherung habe ich außerdem die URL zur Preisübersicht erfasst.</p>
<p>Mein <strong>Ziel</strong> ist es zu erkennen, inwiefern Preise von der <strong>Tageszeit</strong> oder dem <strong>Wochentag</strong> abhängen. Wie stark ist der Einfluss der <strong>Auslastung</strong>? Wann muss man ein Ticket spätestens buchen, um noch einen guten Preis zu bekommen? Im nächsten Teil schaue ich mir an, welche Zusammenhänge sich erkennen lassen:</p>
<h2 id="teil-4---analyse-der-ticket-preise-der-deutschen-bahn">Teil 4 - Analyse der Ticket-Preise der Deutschen Bahn</h2>
<p>Als Einstieg werfen wir mal einen Blick auf die Verteilung der Preis. Die folgende Übersicht zeigt die Preise für alle Verbindungen, Klassen und Preis-Kategorien an:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-54-700x412.png" alt=""><p><strong>Abbildung 14:</strong> Preis-Überblick</p>
<p><em>Anmerkung: &ldquo;Durchschn. Preis&rdquo; meint immer arithmetisches Mittel.</em></p>
<p>Die 1. Klasse bekommt man bei der Deutschen Bahn schon für <strong>12,30 Euro</strong>, das obere Limit liegt bei stabilen <strong>259,70 Euro.</strong> Die günstigste Reise tritt man für <strong>5,60 Euro</strong> an. In Testläufen von 2019 kostete das teuerste Ticket übrigens <strong>294,00 Euro</strong> (Berlin -&gt; Stuttgart, 02.10.2019). Offensichtlich wurden die Preise in 2020 also angepasst.</p>
<p><em>Anmerkung: Die folgende Auswertung zeigt, dass die Verbindung <strong>Offenburg -&gt; Greifswald</strong> nicht mehr als Direktverbindung zu existieren scheint und somit auch nicht, wie angepriesen, die längste zusammenhängende Strecke ist. 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://zugfahrplande.com/ic-zugfahrplan/1846-ic-2216?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">Offenbar fährt der ICE 2216 nur noch von Stuttgart nach Kiel</a>


.</em></p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-4-700x387.png" alt=""><p><strong>Abbildung 15:</strong> Gegenprobe: Keine Direktverbindungen für Offenburg -&gt; Greifswald?</p>
<p>Die nächste Abbildung zeigt die Dauer, Streckenlänge und mittlere erwartete Auslastung aller abgefragten Verbindungen. Um die Entfernung zu ermittelten, 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://www.evg-online.org/deine-vorteile/services/service-meldungen/entfernungsrechner-fuer-fahrverguenstigungen/?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">nutze ich dieses Tool</a>


.</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-55-700x164.png" alt=""><p><strong>Abbildung 16:</strong> Entferung, Dauer und Auslastung aller Verbindungen</p>
<p>Insgesamt gibt es fünf Stufen der Auslastung, die bei der Ticket-Auswahl angezeigt werden:</p>
<ul>
<li>Außergewöhnliche hohe Auslastung (Stufe 5)</li>
<li>Sehr hohe Auslastung</li>
<li>Hohe Auslastung</li>
<li>Besetzung von mehr als der hälfte der Sitzplätze</li>
<li>Geringe bis mittlere Auslastung (Stufe 1)</li>
</ul>
<p>Im finalen Durchlauf wurde bei alle Verbindungen nur eine <strong>Auslastungen von 1 und 2</strong> erwartet. In früheren Durchläufen gab es auch Auslastungsstufen bis 4 und sogar 5 (nur in 2019). Nichtsdestotrotz: Die Strecke <strong>Berlin -&gt; Hannover</strong> war (siehe oben) zwar eine Verbindung mit den meisten Verspätungen, obgleich sie bei der Auslastung eher im Mittelfeld liegt. Eine Erklärung könnte sein, dass die Deutsche Bahn in 2020 den Fahrplan angepasst hat, um dem entgegen zu wirken. Eine andere Erklärung: <strong>Corona</strong> und damit ein geringeres Reise-Aufkommen.</p>
<h3 id="der-buchungs-zeitpunkt">Der Buchungs-Zeitpunkt</h3>
<p>Schauen wir uns mal die Flex-Preis-Entwicklung (Median über den Tagespreis) aller Direktverbindungen (inkl. Offenburg -&gt; Greifswald mit einem Umstieg) an (2. Klasse). Zur Erinnerung, die Preise wurden am 06. Sept. 2020 abgerufen:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-56-700x441.png" alt=""><p><strong>Abbildung 17:</strong> Median Flex-Preis 2. Klasse, alle Direktverbindungen (inkl. Offenburg -&gt; Greifswald, 1 Umstieg)</p>
<p>Was fällt auf? <strong>Je höher der Preis, desto größer die Schwankungen</strong>. Der Trend über die 90 Tage ist allerdings relativ stabil. In der 1. Klasse sieht es ähnlich aus. Da wir aber auf der Suche nach Schnäppchen sind, werfen wir doch mal ein Blick auf den günstigsten Preis in dieser Kategorie:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-57-700x444.png" alt=""><p><strong>Abbildung 18:</strong> günstigster Flex-Preis, 2. Klasse, alle Direktverbindungen (inkl. Offenburg -&gt; Greifswald)</p>
<p>Bei den teuren Strecken (über 100 Euro) und der kurzen Gotha -&gt; Eisenach Verbindung ändert sich nichts. Dazwischen sinken die Preise aber auffällig.</p>
<p>Schauen wir uns mal die Super-Spar-Preise an, auch hier wieder die 2. Klasse (die 1. Klasse verhält sich ähnlich).</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-12-700x572.png" alt=""><p><strong>Abbildung 19:</strong> 2. Klasse, Super-Spar-Preis, Direktverbindungen (inkl. Offenburg -&gt; Greifswald)</p>
<p>Der Preis sinkt in den hohen Preis-Regionen stärker, je länger das Abfahrtsdatum in der Zukunft liegt. Die teuren Tickets schwanken außerdem auffällig, während es im Niedrig-Preis-Segment kaum noch Preisschwankungen gibt.</p>
<p>Schauen wir uns das ganze noch mal für alle Preis-Kategorien einer Verbindung an, hier Köln -&gt; Dresden:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-58-700x445.png" alt=""><p><strong>Abbildung 20:</strong> Preise für die Verbindung Köln -&gt; Dresden (nur Direkt)</p>
<p>Wenig überraschend kann man feststellen: Die Kurven der 1. und 2.. Klasse verlaufen ziemlich synchron. Sinkt der Preis in der 1. Klasse, macht es die 2. Klasse ihm gleich. Außerdem erscheinen die Schwankungen zyklisch. Zum Vergleich die Preise für die berüchtigte Verbindung Berlin -&gt; Hannover:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-59-700x441.png" alt=""><p><strong>Abbildung 21:</strong> Preise für die Verbindung Berlin -&gt; Hannover (nur Direkt)</p>
<p>Ich will die Preise noch etwas genauer untersuchen. Die folgende Abbildung zeigt die Preise der 1. Klasse für die Verbindung Berlin -&gt; Stuttgart. Da jeder Punkt für eine Verbindung bzw. einen Preis steht, lässt sich nun ganz deutlich ein Zusammenhang erkennen. Bzw. nicht.</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-62-700x443.png" alt=""><p><strong>Abbildung 22:</strong> 1. Klasse Preise für die Verbindung Berlin -&gt; Stuttgart (nur Direkt)</p>
<p>Der Flex-Preis folgt einem Schema. Der Grundpreis liegt bei <strong>227,80 Euro</strong>. Am Freitag steigt dieser stark an, am Samstag sinkt er sehr stark und am Sonntag ist er wieder etwas höher als der Grundpreis, aber nicht so hoch wie am Freitag.</p>
<p>Und der <strong>Super-Spar-Preis</strong>? Tja nun. Hier scheint es kein Konzept zu geben. Es scheint, als würde der Preis zufällig bestimmt werden. Auf einer anderen Strecke sieht es bei weitem nicht ganz so chaotisch aus, aber trotzdem noch nicht nachvollziehbar:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-64-700x446.png" alt=""><p><strong>Abbildung 23:</strong> 1. Klasse Preise für die Verbindung Ingolstadt -&gt; Nürnberg (nur Direkt)</p>
<p>Beim <strong>Flex-Preis</strong> ist fast es egal, wie früh du buchst, es gibt aber durchaus Unterschiede, nämlich am Wochenende. Ansonsten ist das Spar-Potential bei teureren Tickets tendentiell höher. Beim <strong>Super-Spar-Preis</strong> ist es eigentlich auch nicht wichtig, möglichst früh zu buchen. Auch hier kann man kurz vor Reiseantritt noch günstige Preise finden. Es gibt mitunter sehr starke Preisschwankungen, die in höheren Preisregionen größer sind.</p>
<h3 id="gibt-es-eine-nachfrage-steuerung">Gibt es eine Nachfrage-Steuerung?</h3>
<p>Das wirft die Frage auf, inwieweit versucht wird, die Nachfrage zu steuern. Klar ist nun, dass der Flex-Preis an Wochenenden stark schwankt. Untertags macht eine Schwankung auch gar keinen Sinn, da es keine Zugbindung gibt. Hier ist der Super-Spar-Preis besser geeignet. Und tatsächlich schwankt dieser auch, bedingt durch die Tagszeit (dazu unten mehr).</p>
<p>Allerdings steigt die erwartete Auslastung der Züge auch, je näher das Reisedatum liegt. Dazu ein Überblick für die erwartete Auslastung aller Verbindungen (Abbildung 35a berücksichtigt auch Daten aus den vergangenen Abfragen, x-Achse auf 90 Tage gestreckt, um den Vergleich mit Abbildung 22 und 23 zu erleichtern).</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-70-700x444.png" alt=""><p><strong>Abbildung 35a:</strong> Erwartete Auslastung für alle Verbindungen, 1. und 2. Klasse (alle Stichproben, 2019 und 2020)</p>
<p>Bis zu einem Monat vor Fahrtbeginn wird vom System in der Regel keine Auslastungs-Information gemeldet. Die Auslastung in der 1. Klasse ist geringfügig kleiner. In der 2. Klasse scheint es noch viele Buchungen einen Tag vor Fahrtantritt zu geben - am Reisetag selber ist die erwartete Auslastung überraschenderweise geringer. Klar wird aber, dass die Auslastung steigt, je weniger das Reisedatum in der Zukunft liegt.</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-72-700x442.png" alt=""><p><strong>Abbildung 35b:</strong> Erwartete Auslastung Berlin -&gt; Stuttgart, 1. und 2. Klasse</p>
<p>Bei der Betrachtung der einzelnen Verbindung <strong>Berlin -&gt; Stuttgart</strong> ist dieser Trend vielleicht nicht ganz so deutlich, aber er existiert, vor allem in der 2. Klasse. Ein Zusammenhang zur Abbildung 22 lässt sich aber kaum erkennen. Zugegeben: Der <strong>Flex-Preis</strong> ist in der fernen Zukunft an zwei Punkten günstiger. Nur beim Super-Spar-Preis ist keine klare Reaktion auf die erwartete steigende Nachfrage erkennbar.</p>
<p>Um hier eine wirklich zuverlässige Aussage treffen zu können, müsste man eine konkrete Verbindungen im zeitlichen Verlauf betrachten. So lässt sich nur die Mutmaßung anstellen, dass die Nachfragesteuerung kaum dynamisch auf die erwartete Auslastung reagiert, sondern vielmehr die typischen Reisezeiten berücksichtigt (Freitag / Sonntag). Aber gut, das Ziel war nicht, die Berechnung des Ticket-Preises zu analysieren, sondern seine Komplexität darzustellen.</p>
<h3 id="der-preis-des-umsteigens">Der Preis des Umsteigens</h3>
<p>Umsteigen ist unbequem und man will es gerne vermeiden. Der Wunsch, sprich die Nachfrage, nach einer Verbindung mit mehreren Umstiegen dürfte also recht gering sein. Im Preis schlägt sich das allerdings kaum wieder. Es gibt durchaus Verbindungen mit mehreren Umstiegen, die teurer sind als die Direktverbindung.</p>
<p>Hier als Beispiel die jeweils günstigsten Flex-Preise der 1. Klasse:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-20-700x228.png" alt=""><p><strong>Abbildung 24:</strong> 1. Klasse, günstigster Flex-Preis</p>
<p>Die Strecken <strong>Berlin -&gt; Stuttgart</strong> und <strong>München -&gt; Berlin</strong> haben also Schnäppchenpotential im Flex-Preis-Segment (wenn die unterschiedlichen Preise an einem Tag verfügbar sind). Nun ist es aber so, dass man mit dem Flexpreis <strong>nicht</strong> <strong>in der Zug-Kategorie</strong> <strong>aufsteigen</strong> darf (siehe oben). Wer also ein Ticket im IC bucht, darf nicht ICE fahren. Schauen wir uns doch mal die Verbindung Berlin -&gt; Stuttgart genauer an:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-24-700x440.png" alt=""><p><strong>Abbildung 25:</strong> 1. Klasse, Flex-Preis, Mindest-Flex-Preis x durchschnittliche Dauer und Umstiege, Berlin - Stuttgart</p>
<p>Du siehst, das untere Limit bei der ICE-Fahrt liegt bei etwas über <strong>200 Euro</strong>. Wenn du ein paar Euro auf der Verbindung sparen willst, musst du fast 3 Stunden mehr einplanen und z.B. IC fahren. Aber was mit der Verbindung mit <strong>vier Umstiegen</strong> (blauer Kreis)? Das Ticket kostet <strong>188 Euro</strong> und <strong>beinhaltet eine ICE-Strecke</strong>. Handelt es sich damit um ein vollwertiges ICE-Ticket und kann ich damit auch die direkte aber teurere Verbindung am gleichen Tag nutzen? Der Twitter-Support hat das mehr oder weniger bestätigt:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-25-700x397.png" alt=""><p><strong>Abbildung 26:</strong> Quelle: 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://twitter.com/DB_Bahn/status/1303241966759665665?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">Twitter</a>


</p>
<p><em>Anmerkung: Die gestellte Frage lautete: &ldquo;Bei einem Flex-Preis-Ticket mit einem Umstieg (ICE zu IC) habe ich ja ein ICE-Ticket - für den ersten Teil der Strecke. Das Ticket ist dann nur für den 1. Teil gültig?&rdquo; Mein Verdacht ist allerdings, dass der Support nicht ganz verstanden hat, worauf ich hinaus wollte. Nachfragen lohnt sich also.</em></p>
<p>Wenn dem so ist, ergibt sich daraus ein wichtiges Kriterium bei der Preissuche: Wenn du ein günstiges Flex-Preis-Ticket zu einer &ldquo;verrückten&rdquo; Tageszeit findest, z.B. 0:12 Uhr in der Nacht, das nur eine ICE-Verbindung enthält, kannst du damit den ganzen Tag auf dieser Strecke reisen. Idealerweise auch auf einer Direktverbindung, nur mit dem ICE. In dem Fall ist erst Recht wichtig, Preise immer in einem <strong>großzügigen Zeitfenster</strong> zu vergleichen.</p>
<p>Noch mal zurück zur <strong>Abbildung 25</strong>. Die folgende <strong>Abbildung 27</strong> zeigt die Flex-Preise für die 2. Klasse:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-26-700x441.png" alt=""><p><strong>Abbildung 27:</strong> 1. Klasse, Flex-Preis, Mindest-Flex-Preis x durchschnittliche Dauer und Umstiege, Berlin - Stuttgart</p>
<p>Das Preisgefüge ändert sich nicht. Man kann also zumindest festhalten, dass die Dauer und die Anzahl der Umstiege zu den festen Faktoren der Preisbildung gehören.</p>
<p>Beim <strong>Super-Spar-Preis</strong> gibt es die <strong>feste Zugbindung</strong>. Hier macht es keinen Sinn, ein ggf. günstigeres Ticket mit vielen Umstiegen zu suchen und dann einfach die Direkt-Verbindung zu nutzen. Das dürfte sich auch bei der Preis-Gestaltung zeigen: Sind weniger bequeme Verbindungen mit mehreren Umstiegen teurer?</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-21-700x205.png" alt=""><p><strong>Abbildung 28:</strong> 1. Klasse, kleinster Super-Spar-Preis</p>
<p>Ja! Der günstigste Preis wird immer für die Direktverbindung aufgerufen. Kann man die Verbindungen mit mehreren Umstiegen also komplett ignorieren? Schwer zu sagen, denn hierbei handelt es sich um die aggregierte Darstellung. Wie sieht es in der Realität aus? Dazu gleich mehr. Zunächst noch mal der Vergleich mit der <strong>2. Klasse</strong>:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-28-700x229.png" alt=""><p><strong>Abbildung 29:</strong> 2. Klasse, kleinster Super-Spar-Preis</p>
<p>Was fällt auf? Die Verbindung <strong>Ingolstadt -&gt; Nürnberg</strong> mit einem Umstieg kostet 23,00 Euro, inklusive Sitzplatz also 27,00 Euro. Und ist etwas teurer als die Direktverbindung in der 1. Klasse für 26,40 Euro.</p>
<p>Eine <strong>weitere wichtige Erkenntnis</strong> lautet demnach: Beim Super-Spar-Preis lohnt sich der Vergleich mit der 1. Klasse.</p>
<h3 id="gibt-es-regelmäßigkeiten-bei-der-preisbildung">Gibt es Regelmäßigkeiten bei der Preisbildung?</h3>
<p>Noch mal zurück zum Median Flex-Preis für alle Verbindungen. Als Grundlage für die Berechnung eines <strong>Preises je Reise-Minute</strong> möchte ich einmal die angebene und damit ideale Reisedauer der ICE-Verbindungen ohne Umstiege verwenden, da diese im Datensatz direkt vorliegt. Außerdem kann vielleicht der <strong>Preis je Kilometer</strong> Aufschluss geben. Die folgende Abbildung zeigt die Verhältnisse der 2. zur 1. Klasse für die Flex-Preise aller Direkt-Verbindungen die mit dem ICE bedient werden:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-65-700x224.png" alt=""><p><strong>Abbildung 30:</strong> Flex-Preis für alle DirektVerbindungen, nur ICE</p>
<p>Der Faktor vom günstigsten zum teuersten Ticket ist in etwa gleich, nämlich knapp 10. Wenn man aber die Dauer als Indiz für die Entfernung nimmt, steigt der Preis nicht so stark an wie die Entfernung. Das zeigt sich in der Veränderung des Preis / Minute. Bei kurzen Strecken ist dieser höher als bei langen Strecken. Das bestätigt auch die Gegenüberstellung in einem Chart:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-67-700x562.png" alt=""><p><strong>Abbildung 31:</strong> Flex-Preis / Minute und Dauer aller Direkt-Verbindungen, nur ICE</p>
<p>Steigt der Preis also nicht proportional zur Länge der Verbindung, sprich Dauer? Die Werte für Preis / km können das leider nicht eindeutig bestätigen. Hier benötigen wir also mehr Daten.</p>
<p>Aber dafür lässt sich eine andere Feststellung relativ sicher belegen:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-69-700x228.png" alt=""><p><strong>Abbildung 32:</strong> Differenz 1. und 2. Klasse, Median Flex-Preis</p>
<p>Offensichtlich beträgt der <strong>Preis-Aufschlag für die 1. Klasse knapp 168%</strong> (bzw. der Nachlass zur 2. Klasse etwa 40%). Das ist jetzt keine bahnbrechende Erkenntnis, obgleich wir ja wissen, dass man die Preise der 1. und 2. Klasse nicht ohne weiteres vergleichen kann. Beim Super-Spar-Preis ist das übrigens nicht ganz so offensichtlich. Dieser schwankt aber auch zu stark, um hier eine zuverlässige Abschätzung zu geben.</p>
<h3 id="die-optimale-reisezeit">Die optimale Reisezeit</h3>
<p>Abschließend will ich die Granularität noch etwas erhöhen und mir die Preise über den Tag verteilt anschauen. Die nächste Abbildung zeigt den geringsten Super-Spar-Preise für beide Klassen je Verbindung, über den Tag verteilt:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-42-700x445.png" alt=""><p><strong>Abbildung 33</strong>: Median-Preis für Direktverbindungen (inkl. Offenburg -&gt; Greifswal) über den Tag verteilt</p>
<p>Die Super-Spar-Preise scheinen relativ stabil zu sein, der Flex-Preis schwankt etwas stärker. Zur Abendzeit werden die Preise aller Kategorien günstiger. Sicherlich ist es hilfreich, hier die Verbindungen im Detail zu untersuchen. Die folgende Abbildung zeigt die Preise der Verbindung München -&gt; Berlin:</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-43-700x429.png" alt=""><p><strong>Abbildung 34:</strong> Median-Preise über die Tageszeit für die Verbindung München -&gt; Berlin</p>
<p>Ein Rückschluss auf die Nachfrage-Steuerung, die ich oben schon betrachtet habe, ist hier übrigens nur schwer möglich. Es handelt sich um die aggregierten Preise und Reisezeiten. Nur soviel: Zur Nachmittagszeit, also vermutlich der Haupt-Reisezeit, gibt es Preis-Spitzen beim Super-Spar-Preis. Der Flex-Preis ist relativ stabil.</p>
<h2 id="teil-5---eine-alternative-oberfläche">Teil 5 - Eine alternative Oberfläche</h2>
<p>Nun, da wir die spannenden Zahlenspiele und bunten Grafiken abgearbeitet haben, wollen wir uns eine mögliche Alternative anschauen. Ich habe mich oben schon recht intensiv mit den &ldquo;Preis-APIs&rdquo; der Deutschen Bahn beschäftigt. Diese habe ich nicht nur zur stumpfen Abfrage unzähliger Preise verwendet, sondern auch um eine alternative Ticket-Preis-Suche zu bauen: 





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://nickets.de/?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">nickets.de</a>


</p>
<img src="/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/images/grafik-45-700x385.png" alt=""><p><strong>Abbildung 36:</strong> nickets - Visuelle Ticket-Preissuche</p>
<p>Die Bedienung sollte eigentlich relativ intutiv sein, das war ja das Ziel der ganzen Übung. Du gibst Start- und Zielbahnhof an, legst den Abfahrts-Zeitpunkt fest und lässt dir die entsprechenden Preise in einer Grafik anzeigen. Dort siehst du zu jeder Verbindung den Super-Spar-Preis sowie den Flex-Preis und die Anzahl der Umstiege. Fährst du mit dem Maus-Cursor über die Kreise, erhälst du zusätzliche Informationen zu dem jeweiligen Ticket. Mit Klick auf die kleinen Kreise kommst du zur Buchung auf der Seite der Deutschen Bahn.</p>
<p>Die Oberfläche befindet sich noch im Beta-Stadium, es kann also zu ungewohnten Verhalten kommen. Im Grunde sollten die Preise aber korrekt angezeigt werden und vor allem aktuell sein. Feedback und Wünsche sind natürlich sehr gerne gesehen.</p>
<h3 id="download-der-postman-collection">Download der Postman-Collection</h3>
<p>





  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://www.nickyreinert.de/files/das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/Deutsche-Bahn-Tickets.postman_collection.json_.7z?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">Deutsche-Bahn-Tickets.postman_collection.json_</a>








  
  

  
  

  
  
  

  
    
      
    
  

  
  <a href="https://www.nickyreinert.de/files/das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/Deutsche-Bahn-Tickets.postman_collection.json_.7z?utm_source=institut-fuer-digitale-herausforderungen&amp;utm_medium=allyourbasearebelongtous" target="_blank" rel="noopener noreferrer">Herunterladen</a>


</p>

    
  </article>
  
  
  
  <div style="margin-top: 5rem; border-top: 2px solid #9a9a9a; padding: 1rem; color: #878787;">
    <h2 style="font-size: 1.3rem; margin-bottom: 1rem;">Zusammenfassung</h2>
    <div style="font-size: 1rem;">

      <p>Eine tiefgehende, mehrteilige Analyse des komplexen Ticket-Preissystems der Deutschen Bahn. Der Artikel erklärt die verschiedenen Preis-Kategorien, reverse-engineert die undokumentierte Preis-API, analysiert die gesammelten Daten statistisch auf Muster und Einflussfaktoren und stellt mit &#39;nickets.de&#39; eine alternative, visuelle Preissuchmaschine als Lösung vor.</p>
      <br />
      
      <p><strong>Hauptthemen:</strong>
        
        <span style="background: #e0e0e0; padding: 0.2rem 0.5rem; margin: 0.1rem; border-radius: 3px;">Datenanalyse</span>
        
        <span style="background: #e0e0e0; padding: 0.2rem 0.5rem; margin: 0.1rem; border-radius: 3px;">Deutsche Bahn</span>
        
        <span style="background: #e0e0e0; padding: 0.2rem 0.5rem; margin: 0.1rem; border-radius: 3px;">Verkehr</span>
        
        <span style="background: #e0e0e0; padding: 0.2rem 0.5rem; margin: 0.1rem; border-radius: 3px;">API-Reverse-Engineering</span>
        
        <span style="background: #e0e0e0; padding: 0.2rem 0.5rem; margin: 0.1rem; border-radius: 3px;">Datenvisualisierung</span>
        
        <span style="background: #e0e0e0; padding: 0.2rem 0.5rem; margin: 0.1rem; border-radius: 3px;">Preisstrategie</span>
        
      </p>
      
      
      
      <p><strong>Schwierigkeitsgrad:</strong> advanced</p>
      
      
      
      <p><strong>Lesezeit:</strong> ca. 5 Minuten</p>
      
    </div>
  </div>
  

  
  <div style="max-width: 960px; margin: 3rem auto 2rem; padding: 0 1rem;">
    <div id="cusdis_thread"
  style="width: 100%; min-height: 320px;"
  data-host="https://cusdis.com"
  data-app-id="e885b617-2ae8-4610-983a-311fc563e28d"
  data-page-id=""
  data-page-url="https://nickyreinert.de/2020/2020-09-09-das-ticket-preis-system-der-deutschen-bahn-oder-wie-findest-du-den-optimalen-fahrschein-preis/"
  data-page-title="Das Ticket-Preis-System der Deutschen Bahn - oder: wie findest du den optimalen Fahrschein-Preis?"
  data-require-email="true"
></div>
<script async defer src="https://cusdis.com/js/cusdis.es.js"></script>

  </div>
  
  
  <div class="paginator">
    
    <a class="link" href="https://nickyreinert.de/2020/2020-07-01-leitfaden-fur-ein-sicheres-und-schnelles-wordpress-setup/">← prev</a>
    
    
    <a class="link" href="https://nickyreinert.de/2020/2020-10-08-automatisierte-wordpress-installation/">next →</a>
    
  </div>
  
</main>

    <footer id="footer">
  <div>
    <span>© 1979 Nicky Reinert</span> // <span>Powered by </span>
    <a class="link" href="https://gohugo.io/">Hugo</a> // 
    <span>kontakt: nickyreinert -at- gmail -dot- com</span> // 
    <a class="link" href="privacy.html">Datenschutzerklärung</a> // 
    <bold>
      <a class="link lang-btn" href="#" data-lang="de" >
                    <svg width="16" height="12" viewBox="0 0 5 3" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px; flex-shrink: 0;">
                    <rect width="5" height="3" fill="#FFCE00"/>
                    <rect width="5" height="2" fill="#DD0000"/>
                    <rect width="5" height="1" fill="#000000"/>
                  </svg>Deutsch</a> // 
      <a class="link lang-btn" href="#" data-lang="en" >
                          <svg width="16" height="12" viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px; flex-shrink: 0;">
                    <clipPath id="s-v2">
                      <path d="M0,0 v30 h60 v-30 z"/>
                    </clipPath>
                    <clipPath id="s-v1">
                      <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/>
                    </clipPath>
                    <g clip-path="url(#s-v2)">
                      <path d="M0,0 v30 h60 v-30 z" fill="#00247d"/>
                      <g clip-path="url(#s-v1)">
                        <path d="M0,0 l60,30 M60,0 l-60,30" stroke="#fff" stroke-width="6"/>
                        <path d="M0,0 l60,30 M60,0 l-60,30" stroke="#cf142b" stroke-width="4"/>
                        <path d="M30,0 v30 M0,15 h60" stroke="#fff" stroke-width="10"/>
                        <path d="M30,0 v30 M0,15 h60" stroke="#cf142b" stroke-width="6"/>
                      </g>
                    </g>
                  </svg>English</a> // 
      <a class="link lang-btn" href="#" data-lang="*" >All(e)</a>
    </bold>
    <br />
<footer>
  <center>
    <a class="default-link" href="https://uberblogr.de/prev/nickyreinert" title="Zurück im Ring">&lt; Zurück im Ring</a> //
    Mitglied im <a class="default-link" href="https://uberblogr.de/home/nickyreinert" title="Mitglied im UberBlogr Webring">UberBlogr Webring</a> //
    <a class="default-link" href="https://uberblogr.de/next/nickyreinert" title="Vor im Ring">Weiter im Ring &gt;</a>
  </center>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var langButtons = document.querySelectorAll('.lang-btn');
      langButtons.forEach(function(btn) {
        btn.addEventListener('click', function(event) {
          event.preventDefault();
          var lang = btn.getAttribute('data-lang');
          var posts = document.querySelectorAll('[data-lang]');
            posts.forEach(function(post) {
              var postLang = post.getAttribute('data-lang');
              if (postLang === lang || lang === '*') {
                post.classList.remove('hidden');
              } else {
                post.classList.add('hidden');
              }
            });
          });
        });
      });
  </script>
</footer>
  </div>

  
  

  
  

</body>

</html>
